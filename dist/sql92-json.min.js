// http://g14n.info/SQL92-JSON
require=function r(i,t,n){function e(s,a){if(!t[s]){if(!i[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[s]={exports:{}};i[s][0].call(f.exports,function(r){var t=i[s][1][r];return e(t||r)},f,f.exports,r,i,t,n)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)e(n[s]);return e}({1:[function(r,i,t){i.exports=["=",">","<","<>","<=",">=","!="]},{}],2:[function(r,i,t){i.exports=["BOOLEAN","CHARACTER","CHARACTER VARYING","DATE","DECIMAL","FLOAT","INTEGER","INTERVAL","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARCHAR"]},{}],3:[function(r,i,t){i.exports=function(r){var i="Could not parse select field";r&&(i=i+" "+JSON.stringify(r));var t=new TypeError(i);return t.field=r,t}},{}],4:[function(r,i,t){i.exports={couldNotParseSelectField:r("./couldNotParseSelectField"),invalidAlias:r("./invalidAlias"),invalidDataType:r("./invalidDataType"),invalidInterval:r("./invalidInterval"),invalidJSONData:r("./invalidJSONData"),invalidOperand:r("./invalidOperand"),invalidSQL:r("./invalidSQL"),invalidTableName:r("./invalidTableName"),unclosedParenthesisExpression:r("./unclosedParenthesisExpression")}},{"./couldNotParseSelectField":3,"./invalidAlias":5,"./invalidDataType":6,"./invalidInterval":7,"./invalidJSONData":8,"./invalidOperand":9,"./invalidSQL":10,"./invalidTableName":11,"./unclosedParenthesisExpression":12}],5:[function(r,i,t){i.exports=function(r){var i="Invalid alias";r&&(i+=": "+JSON.stringify(r));var t=new Error(i);return t.alias=r,t}},{}],6:[function(r,i,t){i.exports=function(r){var i="Invalid data type";r&&(i+=": "+r);var t=new Error(i);return t.dataType=r,t}},{}],7:[function(r,i,t){i.exports=function(r,i){var t="invalid interval";(r||i)&&(t+=":"),r&&(t+=" "+r),i&&(t+=" "+i);var n=new Error(t);return n.left=r,n.right=i,n}},{}],8:[function(r,i,t){i.exports=function(r){var i="Invalid JSON data";r&&(i+=": "+JSON.stringify(r));var t=new Error(i);return t.data=r,t}},{}],9:[function(r,i,t){i.exports=function(r){var i="Invalid operand";r&&(i+=": "+r);var t=new Error(i);return t.operand=r,t}},{}],10:[function(r,i,t){i.exports=function(r){var i="Invalid SQL";r&&(i+=": "+r);var t=new Error(i);return t.sql=r,t}},{}],11:[function(r,i,t){i.exports=function(r){var i="Invalid table name";r&&(i+=": "+r);var t=new Error(i);return t.tableName=r,t}},{}],12:[function(r,i,t){i.exports=function(r){var i=new Error("Unclosed parenthesis");return i.tokens=r,i}},{}],13:[function(r,i,t){i.exports=["COUNT","MAX","MIN","AVG","SUM","COALESCE","NVL"]},{}],14:[function(r,i,t){i.exports=["DATABASE","USER","GRANT","TABLE","VIEW","INSERT","DROP","DELETE","UPDATE","TRUNCATE","SELECT","FROM","WHERE","GROUP BY","HAVING","ORDER BY","UNION ALL","DESC","ASC","LIMIT","OFFSET","JOIN","LEFT JOIN","OUTER JOIN","FULL OUTER JOIN","INNER JOIN","RIGHT JOIN","LEFT OUTER JOIN","CREATE DATABASE","CREATE SCHEMA","CREATE SEQUENCE","CREATE TABLE","CREATE USER","CREATE VIEW","EXPLAIN","AS","SET","ON","LIKE","NOT LIKE","COALESCE"]},{}],15:[function(r,i,t){i.exports=["AND","OR"]},{}],16:[function(r,i,t){i.exports=["+","-","*","/","%"]},{}],17:[function(r,i,t){var n=r("../error"),e=r("../util/isLogicalOperator"),o=r("../util/isKeywordOrOperator"),s=r("../util/isStringNumber"),a=e("AND");i.exports=function(r,i,t,e,u){var l=[],f={};if(u?f["NOT BETWEEN"]=[]:f.BETWEEN=[],!a(t))throw n.invalidSQL();if(o(i)||o(e))throw n.invalidInterval(i,e);return s(i)&&(i=parseFloat(i)),s(e)&&(e=parseFloat(e)),u?f["NOT BETWEEN"].push(i,e):f.BETWEEN.push(i,e),l.push(r),l.push(f),l}},{"../error":4,"../util/isKeywordOrOperator":67,"../util/isLogicalOperator":68,"../util/isStringNumber":78}],18:[function(r,i,t){var n=r("../error"),e=r("../util/isKeywordOrOperator"),o=r("../util/isStringNumber");i.exports=function(r,i,t){var s={};if(e(r))throw n.invalidOperand(r);if(e(t))throw n.invalidOperand(t);return o(r)&&(r=parseFloat(r)),o(t)&&(t=parseFloat(t)),s[i]=t,[r,s]}},{"../error":4,"../util/isKeywordOrOperator":67,"../util/isStringNumber":78}],19:[function(r,i,t){function n(r,i,t,s){for(var p,E,g,x,L,y,I,C,R,m=[],b=r.length,w=!1,U=null,F=null,D=null,j=i;j<b;j++){x=r[j],g=r[j+1],p=r[j+2];var B;if(l(x))break;if(N(x)&&(U={AND:[]}),d(x)&&(F={OR:[]}),!A(x)&&"("===g){w=!1,B=1;var M=[];for(C=j+2;C<b;C++)w||("("===(x=r[C])&&B++,")"===x&&B--,0===B?(w=!0,j=C+1):M.push(x));if(!w)throw e.unclosedParenthesisExpression(r);var V=n(M,0,t,s);U?(U.AND=V,m=m.concat(U),U=null):F?(F.OR=V,m=m.concat(F),F=null):m=m.concat(V)}if(h(g)||T(g))try{T(g)&&(R=!0),L=o(x,r[j+2],r[j+3],r[j+4],R),U?(U.AND=L,m=m.concat(U),U=null):F?(F.OR=L,m=m.concat(F),F=null):m=m.concat(L),j+=4}catch(r){throw r}if(f(g))try{L=v(x,g,p),U?(U.AND=U.AND.concat(L),m=m.concat(U),U=null):F?(F.OR=F.OR.concat(L),m=m.concat(F),F=null):m=m.concat(L),j+=1}catch(r){throw r}if(A(x)){if(y=r[j-1],g=r[j+1],w=!1,"("!==g)throw e.invalidSQL(s);if(!p)throw e.invalidSQL(s);if(S(p)){D={};var Q=[];for(C=j+2;C<b;C++)")"===(x=r[C])?(D.IN=t(Q,s),m.push(y,D),w=!0,j=C):Q.push(x);if(!w)throw e.invalidSQL(s);w=!1}else{if(D||(D={}),I=[],c(y))throw e.invalidSQL(s);if(u(y))throw e.invalidSQL(s);for(C=j+2;C<b;C+=2)if(E=r[C],","!==(g=r[C+1])&&")"!==g||(a(E)&&I.push(O(E)),u(E)&&I.push(parseFloat(E))),")"===g){j=C+1,w=!0;break}if(!w)throw e.invalidSQL(s);if(D[x]=I,U){U.AND.push(y,D),m.push(U),U=null,D=null;continue}if(F){F.OR.push(y,D),m.push(F),F=null,D=null;continue}m.push(y,D),D=null}}}return m}var e=r("../error"),o=r("./between"),s=r("../util/isKeyword"),a=r("../util/isSingleQuotedString"),u=r("../util/isStringNumber"),l=r("../util/isAnyJoin"),f=r("../util/isComparisonOperator"),c=r("../util/isKeywordOrOperator"),p=r("../util/isLogicalOperator"),E=r("../util/isSetOperator"),v=r("./comparison"),O=r("../util/removeFirstAndLastChar"),S=s("SELECT"),N=p("AND"),d=p("OR"),h=E("BETWEEN"),T=E("NOT BETWEEN"),A=E("IN");i.exports=n},{"../error":4,"../util/isAnyJoin":60,"../util/isComparisonOperator":62,"../util/isKeyword":66,"../util/isKeywordOrOperator":67,"../util/isLogicalOperator":68,"../util/isSetOperator":74,"../util/isSingleQuotedString":75,"../util/isStringNumber":78,"../util/removeFirstAndLastChar":84,"./between":17,"./comparison":18}],20:[function(r,i,t){var n=r("../error"),e=r("../util/isKeyword"),o=r("../util/isTableName"),s=e("CREATE TABLE");i.exports=function(r,i){var t,e,a={},u=r[0],l=r[1],f=r.length;if(!s(u))throw n.invalidSQL(i);if(!o(l))throw n.invalidTableName(l);a.name=l,a.fields=[];for(var c=2;c<f;c++)t=r[c],e=r[c+1],"("!==t&&","!==t&&")"!==t&&(a.fields.push([t,e]),c++);return{"CREATE TABLE":a}}},{"../error":4,"../util/isKeyword":66,"../util/isTableName":81}],21:[function(r,i,t){var n=r("../error"),e=r("../util/isKeyword"),o=r("../util/tokenize"),s=r("./createTable"),a=r("./select"),u=e("CREATE TABLE"),l=e("DELETE"),f=e("DROP"),c=e("INSERT"),p=e("SELECT"),E=e("TRUNCATE"),v=e("UPDATE");i.exports=function(r){var i=o(r),t=i[0];return-1===i.indexOf(";")?function(i,e){if(!(u(t)||l(t)||f(t)||c(t)||p(t)||E(t)||v(t)))throw n.invalidSQL(r);return u(t)?s(e,r):p(t)?a(e,r):void 0}(0,i):[]}},{"../error":4,"../util/isKeyword":66,"../util/tokenize":86,"./createTable":20,"./select":23}],22:[function(r,i,t){function n(r,i,t,a){for(var f=r.length,c={},p=!1,E=i;E<f;E++){var v=r[E],O=r[E+1];if(o(v)){c[v]=n(r,E+1,t,a);break}if(p){if(l(v)){c.ON=e(r,E,t,a),E+=s(c.ON);continue}}else u(v)&&(p=!0,c[O]=v,E++)}return c}var e=r("./condition"),o=r("../util/isAnyJoin"),s=r("../util/countTokens"),a=r("../util/isKeyword"),u=r("../util/isTableName"),l=a("ON");i.exports=n},{"../util/countTokens":57,"../util/isAnyJoin":60,"../util/isKeyword":66,"../util/isTableName":81,"./condition":19}],23:[function(r,i,t){function n(r,i){var t,Q,P,G,J,K,W,k,H,Y,X,q,z,_,$,Z,rr,ir,tr,nr,er,or,sr,ar,ur,lr={SELECT:[]},fr=r[0],cr=!1,pr=r.length,Er=!1,vr=!1,Or=!1,Sr=!1,Nr=!1,dr=!1,hr=!1,Tr=!1,Ar=!1;if(!U(fr))throw e.invalidSQL(i);for($=1;$<pr;$++){if(_=r[$],X=r[$+1],Y=r[$+2],x(_)){Er=!0,rr=$;break}if(D(_)){hr=!0,ar=$;break}if(j(_)){Tr=!0,sr=$;break}if(","!==_)if(g(_))lr.DISTINCT=!0;else if(N(X)){if(t={AS:{}},!c(Y))throw e.invalidSQL(i);a(Y)&&(Y=O(Y)),p(_)&&(_=parseFloat(_)),t.AS[Y]=_,lr.SELECT.push(t),$+=2}else l(X)?(lr.SELECT.push([parseFloat(_),X,parseFloat(Y)]),$+=2):p(_)?lr.SELECT.push(parseFloat(_)):h(_)?(Q={},S(r,$+1).forEach(function(r){$++,["(",",",")"].indexOf(r)>-1||(p(r)?Q.AVG=parseFloat(r):Q.AVG=r)}),X=r[$+1],Y=r[$+2],N(X)&&(a(Y)&&(Y=O(Y)),Q.AS=Y,$+=2),lr.SELECT.push(Q)):T(_)?(P={},S(r,$+1).forEach(function(r){$++,["(",",",")"].indexOf(r)>-1||(p(r)?P.COUNT=parseFloat(r):P.COUNT=r)}),X=r[$+1],Y=r[$+2],N(X)&&(a(Y)&&(Y=O(Y)),P.AS=Y,$+=2),lr.SELECT.push(P)):C(_)?(J={},S(r,$+1).forEach(function(r){$++,["(",",",")"].indexOf(r)>-1||(p(r)?J.MAX=parseFloat(r):J.MAX=r)}),X=r[$+1],Y=r[$+2],N(X)&&(a(Y)&&(Y=O(Y)),J.AS=Y,$+=2),lr.SELECT.push(J)):R(_)?(K={},S(r,$+1).forEach(function(r){$++,["(",",",")"].indexOf(r)>-1||(p(r)?K.MIN=parseFloat(r):K.MIN=r)}),X=r[$+1],Y=r[$+2],N(X)&&(a(Y)&&(Y=O(Y)),K.AS=Y,$+=2),lr.SELECT.push(K)):m(_)?(W={NVL:[]},S(r,$+1).forEach(function(r){$++,["(",",",")"].indexOf(r)>-1||(p(r)?W.NVL.push(parseFloat(r)):W.NVL.push(r))}),X=r[$+1],Y=r[$+2],N(X)&&(a(Y)&&(Y=O(Y)),W.AS=Y,$+=2),lr.SELECT.push(W)):F(_)?(k={},S(r,$+1).forEach(function(r){$++,["(",",",")"].indexOf(r)>-1||(p(r)?k.SUM=parseFloat(r):k.SUM=r)}),X=r[$+1],Y=r[$+2],N(X)&&(a(Y)&&(Y=O(Y)),k.AS=Y,$+=2),lr.SELECT.push(k)):c(_)?E(X)?(lr.SELECT.push([_,X,Y]),$+=2):lr.SELECT.push(_):f(_)&&lr.SELECT.push(_)}if(Er){for(lr.FROM=[],$=rr+1;$<pr;$++){if(_=r[$],X=$<pr-1?r[$+1]:null,B(_)&&(Ar=!0,ur=$),L(_)&&(Or=!0,ir=$),y(_)&&(Sr=!0,tr=$),w(_)&&(dr=!0,or=$),D(_)){hr=!0,ar=$;break}if(j(_)){Tr=!0,sr=$;break}if(!(Ar||Or||Sr||dr)&&","!==_){if("("===_){if(fr=r[$+1],cr=!1,q=1,!U(fr))throw e.invalidSQL(i);for(z=[],Z=$+1;Z<pr;Z++)cr||("("===(_=r[Z])&&q++,")"===_&&q--,0===q?(cr=!0,$=Z,lr.FROM.push(n(z,i))):z.push(_));if(!cr)throw e.invalidSQL(i);cr=!1}if(v(_)){H=_,X=r[$+1],Y=r[$+2];var gr=!u()(X);if(c(X)&&gr){if(H={},H[X]=_,s(Y)){H[G=Y]=V(r,$+3,n,i),lr.FROM.push(H),$+=o(H[G])+2;continue}lr.FROM.push(H),$+=2;continue}lr.FROM.push(H)}}}if(Ar){if(ur===pr-3)throw e.invalidSQL(i);lr.WHERE=M(r,ur,n,i)}if(Or)for(lr["GROUP BY"]=[],$=ir+1;$<pr;$++)if(","!==(_=r[$])){if(u()(_))break;p(_)&&(_=parseFloat(_)),lr["GROUP BY"].push(_)}if(Sr){if(tr===pr-3)throw e.invalidSQL(i);lr.HAVING=M(r,tr,n,i)}if(dr)for(lr["ORDER BY"]=[],$=or+1;$<pr;$++)if(_=r[$],X=r[$+1],","!==_){if(u()(_))break;p(_)&&(_=parseFloat(_)),A(X)?(lr["ORDER BY"].push({DESC:_}),$++):d(X)?(lr["ORDER BY"].push({ASC:_}),$++):lr["ORDER BY"].push(_)}for($=rr;$<pr;$++)vr||(_=r[$],I(_)&&(vr=!0,nr=$));if(vr){if(nr===pr-1)throw e.invalidSQL(i);var xr=r[nr+1];if(!p(xr))throw e.invalidSQL(i);if(!((xr=parseFloat(xr))>=0))throw e.invalidSQL(i);lr.LIMIT=xr}for($=rr;$<pr;$++)Nr||(_=r[$],b(_)&&(Nr=!0,er=$));if(Nr){if(er===pr-1)throw e.invalidSQL(i);var Lr=r[er+1];if(!p(Lr))throw e.invalidSQL(i);if(!((Lr=parseFloat(Lr))>=0))throw e.invalidSQL(i);lr.OFFSET=Lr}}return hr&&(lr.UNION=n(r.splice(ar+1),i)),Tr&&(lr["UNION ALL"]=n(r.splice(sr+1),i)),lr}var e=r("../error"),o=r("../util/countTokens"),s=r("../util/isAnyJoin"),a=r("../util/isDoubleQuotedString"),u=r("../util/isKeyword"),l=r("../util/isMathOperator"),f=r("../util/isStar"),c=r("../util/isString"),p=r("../util/isStringNumber"),E=r("../util/isStringOperator"),v=r("../util/isTableName"),O=r("../util/removeFirstAndLastChar"),S=r("../util/tokensEnclosedByParenthesis"),N=u("AS"),d=u("ASC"),h=u("AVG"),T=u("COUNT"),A=u("DESC"),g=u("DISTINCT"),x=u("FROM"),L=u("GROUP BY"),y=u("HAVING"),I=u("LIMIT"),C=u("MAX"),R=u("MIN"),m=u("NVL"),b=u("OFFSET"),w=u("ORDER BY"),U=u("SELECT"),F=u("SUM"),D=u("UNION"),j=u("UNION ALL"),B=u("WHERE"),M=r("./condition"),V=r("./join");i.exports=n},{"../error":4,"../util/countTokens":57,"../util/isAnyJoin":60,"../util/isDoubleQuotedString":64,"../util/isKeyword":66,"../util/isMathOperator":69,"../util/isStar":76,"../util/isString":77,"../util/isStringNumber":78,"../util/isStringOperator":79,"../util/isTableName":81,"../util/removeFirstAndLastChar":84,"../util/tokensEnclosedByParenthesis":87,"./condition":19,"./join":22}],24:[function(r,i,t){i.exports=["CREATE","CROSS","FULL","GROUP","INNER","IS","LEFT","NOT","ORDER","RIGHT","UNION"]},{}],25:[function(r,i,t){i.exports=["BETWEEN","DISTINCT","EXISTS","IN","INTERSECT","NOT BETWEEN","NOT EXISTS","UNION","UNION ALL"]},{}],26:[function(r,i,t){i.exports=["||"]},{}],27:[function(r,i,t){var n=r("../error"),e=r("../util/doubleQuoteIfStringContainsSpace"),o=r("../util/isNumber"),s=r("../util/isObject"),a=r("../util/isString"),u=r("./stringField");i.exports=function(r){var i,t,l="",f=r.AS;if(a(f)&&(l+=" AS "+e(f)),s(f)){if((i=Object.keys(f)).length>1)throw n.invalidAlias(r);t=f[i=i[0]],o(t)&&(l=t),a(t)&&(l=u(t)),l+=" AS "+e(i)}return l}},{"../error":4,"../util/doubleQuoteIfStringContainsSpace":58,"../util/isNumber":70,"../util/isObject":72,"../util/isString":77,"./stringField":55}],28:[function(r,i,t){var n=r("../error"),e=r("./aliasExpression"),o=r("../util/isString");i.exports=function(r){var i=r.AVG;if(o(i))return"AVG("+i+")"+e(r);throw n.couldNotParseSelectField(i)}},{"../error":4,"../util/isString":77,"./aliasExpression":27}],29:[function(r,i,t){var n=r("./filter");i.exports=function(r){return function(i){for(var t=i.shift(),e=i.shift(),o=n(r),s=t+" "+o(e),a=0;a<i.length;a++)s+=" "+o(i[a]);return s}}},{"./filter":31}],30:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isStar"),o=r("../util/isString");i.exports=function(r){var i="",t=r.COUNT;return e(t)&&(i="COUNT(*)"),1===t&&(i="COUNT(1)"),o(t)&&(i="COUNT("+t+")"),i+n(r)}},{"../util/isStar":76,"../util/isString":77,"./aliasExpression":27}],31:[function(r,i,t){var n=r("../util/encloseWithParenthesis"),e=r("./isBetween"),o=r("./isSelect"),s=r("../util/quoteIfString"),a=Array.isArray,u=r("../comparisonOperators");i.exports=function(r){return function i(t){var l;for(l=0;l<u.length;l++){var f=u[l],c=t[f];if(void 0!==c)return f+" "+c}var p=t.IN;if(p){if(a(p))return"IN "+n(t.IN.map(s).join(", "));if(o(p))return"IN "+n(r(p))}var E=t.AND;if(a(E)){var v=E[0]+" "+i(E[1]);for(l=2;l<E.length;l++)v+=" "+i(E[l]);return 2===E.length?"AND "+v:"AND "+n(v)}var O=t.BETWEEN;if(e(t))return"BETWEEN "+O.join(" AND ");var S=t.OR;if(a(S)){var N=S[0]+" "+i(S[1]);for(l=2;l<S.length;l++)N+=" "+i(S[l]);return 2===S.length?"OR "+N:"OR "+n(N)}}}},{"../comparisonOperators":1,"../util/encloseWithParenthesis":59,"../util/quoteIfString":83,"./isBetween":46,"./isSelect":48}],32:[function(r,i,t){var n=r("../util/isAnyJoin");i.exports=function(r){for(var i=Object.keys(r),t=0;t<i.length;t++){var e=i[t];if(n(e))return e}}},{"../util/isAnyJoin":60}],33:[function(r,i,t){var n=r("../util/isKeyword"),e=r("../util/isTableName");i.exports=function(r){for(var i,t=Object.keys(r),o=0;o<t.length;o++){var s=t[o];if(!n()(s))return i=r[s],e(i)?s:void 0}}},{"../util/isKeyword":66,"../util/isTableName":81}],34:[function(r,i,t){var n=r("./getTableNameAlias"),e=r("../util/isKeyword")("AS");i.exports=function(r){var i,t,o=Object.keys(r),s=n(r);if(s)i={},t=r[s],i[s]=t;else for(var a=0;a<o.length;a++){var u=o[a];if(e(u)){if(s=n(r[u])){i={AS:r[u]};break}return}}return i}},{"../util/isKeyword":66,"./getTableNameAlias":33}],35:[function(r,i,t){var n=r("../util/isString");i.exports=function(r){if(n(r))return r}},{"../util/isString":77}],36:[function(r,i,t){var n=r("../error");i.exports=function(r){var i=r.FROM;if(i){if(Array.isArray(i)&&i.length>0)return!0;throw n.invalidJSONData({FROM:i})}return!1}},{"../error":4}],37:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r["GROUP BY"];return Array.isArray(i)&&i.length>0&&i.filter(n).length===i.length}},{"../util/isNumberOrString":71}],38:[function(r,i,t){i.exports=function(r){return Array.isArray(r.HAVING)&&r.HAVING.length>1}},{}],39:[function(r,i,t){i.exports=function(r){var i=r.LIMIT;return"number"==typeof i&&i>0}},{}],40:[function(r,i,t){i.exports=function(r){var i=r.OFFSET;return"number"==typeof i&&i>0}},{}],41:[function(r,i,t){var n=r("../util/isNumberOrString"),e=r("../util/isObject");i.exports=function(r){var i=r["ORDER BY"];return!!i&&!!(Array.isArray(i)&&i.length>0)&&i.filter(function(r){if(n(r))return!0;if(e(r)){if(n(r.DESC))return!0;if(n(r.ASC))return!0}return!1}).length===i.length}},{"../util/isNumberOrString":71,"../util/isObject":72}],42:[function(r,i,t){var n=r("./isSelect");i.exports=function(r){var i=r.UNION;return i&&n(i)}},{"./isSelect":48}],43:[function(r,i,t){var n=r("./isSelect");i.exports=function(r){var i=r["UNION ALL"];return i&&n(i)}},{"./isSelect":48}],44:[function(r,i,t){i.exports=function(r){return Array.isArray(r.WHERE)&&r.WHERE.length>1}},{}],45:[function(r,i,t){function n(r){var i;return S(r)&&(i="CREATE TABLE "+r["CREATE TABLE"].name+" (",r["CREATE TABLE"].fields.forEach(function(r,t,n){i+=r[0]+" "+r[1],t===n.length-1?i+=")":i+=", "})),N(r)&&(i?i+=" SELECT ":i="SELECT ",r.DISTINCT&&(i+="DISTINCT "),i+=r.SELECT.map(h).join(", "),s(r)&&(i+=" FROM "+r.FROM.map(d(n)).join(" ")),v(r)&&(i+=" WHERE "+e(n)(r.WHERE)),l(r)&&(i+=" GROUP BY "+r["GROUP BY"].map(o).join(", "),f(r)&&(i+=" HAVING "+e(n)(r.HAVING))),c(r)&&(i+=" ORDER BY "+r["ORDER BY"].map(O).join(", ")),a(r)&&(i+=" LIMIT "+r.LIMIT),u(r)&&(i+=" OFFSET "+r.OFFSET),p(r)&&(i+=" UNION "+n(r.UNION)),E(r)&&(i+=" UNION ALL "+n(r["UNION ALL"]))),i}var e=r("./conditions"),o=r("./groupByCondition"),s=r("./hasFrom"),a=r("./hasLimit"),u=r("./hasOffset"),l=r("./hasGroupBy"),f=r("./hasHaving"),c=r("./hasOrderBy"),p=r("./hasUnion"),E=r("./hasUnionAll"),v=r("./hasWhere"),O=r("./orderByCondition"),S=r("./isCreateTable"),N=r("./isSelect"),d=r("./resultSet"),h=r("./selectField");i.exports=n},{"./conditions":29,"./groupByCondition":35,"./hasFrom":36,"./hasGroupBy":37,"./hasHaving":38,"./hasLimit":39,"./hasOffset":40,"./hasOrderBy":41,"./hasUnion":42,"./hasUnionAll":43,"./hasWhere":44,"./isCreateTable":47,"./isSelect":48,"./orderByCondition":52,"./resultSet":53,"./selectField":54}],46:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r.BETWEEN;return Array.isArray(i)&&2===i.length&&n(i[0])&&n(i[1])}},{"../util/isNumberOrString":71}],47:[function(r,i,t){var n=r("../util/isDataType"),e=r("../util/isTableName"),o=r("../util/isValidName");i.exports=function(r){var i=r["CREATE TABLE"];if(!i)return!1;if(!e(i.name))return!1;if(!Array.isArray(i.fields))return!1;var t=i.fields.length;if(0===t)return!1;for(var s=0;s<t;s++){var a=i.fields[s];if(!o(a[0]))return!1;if(!n(a[1]))return!1}return!0}},{"../util/isDataType":63,"../util/isTableName":81,"../util/isValidName":82}],48:[function(r,i,t){i.exports=function(r){var i=r.SELECT;return Array.isArray(i)&&i.length>0}},{}],49:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.MAX;return e(t)&&(i="MAX("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":27}],50:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.MIN;return e(t)&&(i="MIN("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":27}],51:[function(r,i,t){var n=r("./aliasExpression");i.exports=function(r){var i=r.NVL;return"NVL("+i[0]+", "+i[1]+")"+n(r)}},{"./aliasExpression":27}],52:[function(r,i,t){var n=r("../util/isNumberOrString"),e=r("../util/isObject");i.exports=function(r){if(n(r))return r;if(e(r)){if(n(r.DESC))return r.DESC+" DESC";if(n(r.ASC))return r.ASC+" ASC"}}},{"../util/isNumberOrString":71,"../util/isObject":72}],53:[function(r,i,t){var n=r("./conditions"),e=r("../util/encloseWithParenthesis"),o=r("./getTableNameAlias"),s=r("./getTableNameWithAlias"),a=r("./getJoinKeyword"),u=r("../util/isTableName"),l=r("./isSelect");i.exports=function(r){return function i(t,f){if(u(t))return t;if(l(t))return e(r(t));var c=s(t);if(c){var p=o(c),E=c[p],v=f?"":E+" "+p+" ",O=a(t),S=t[O];if(O){var N=s(S);if(N){var d=o(N),h=N[d],T=S.ON.slice(0);v+=[O,h,d].join(" "),v+=" ON "+n(r)(T)}var A=a(S);A&&(f=!0,{}[A]=S[A],v+=" "+i(S,f))}return v}}}},{"../util/encloseWithParenthesis":59,"../util/isTableName":81,"./conditions":29,"./getJoinKeyword":32,"./getTableNameAlias":33,"./getTableNameWithAlias":34,"./isSelect":48}],54:[function(r,i,t){var n=r("../error"),e=r("./aliasExpression"),o=r("./avgExpression"),s=r("./countExpression"),a=r("../util/isNumber"),u=r("../util/isObject"),l=r("../util/isStar"),f=r("../util/isString"),c=r("./maxExpression"),p=r("./minExpression"),E=r("./nvlExpression"),v=r("./stringField"),O=r("./sumExpression");i.exports=function(r){if(Array.isArray(r))return r.join(" ");if(l(r))return r;if(a(r))return r;if(f(r))return v(r);if(u(r)){if(r.AVG)return o(r);if(r.COUNT)return s(r);if(r.MAX)return c(r);if(r.MIN)return p(r);if(r.NVL)return E(r);if(r.SUM)return O(r);if(r.AS)return e(r)}throw n.couldNotParseSelectField(r)}},{"../error":4,"../util/isNumber":70,"../util/isObject":72,"../util/isStar":76,"../util/isString":77,"./aliasExpression":27,"./avgExpression":28,"./countExpression":30,"./maxExpression":49,"./minExpression":50,"./nvlExpression":51,"./stringField":55,"./sumExpression":56}],55:[function(r,i,t){var n=r("../util/isDataType"),e=r("../util/isFieldName"),o=r("../util/isSingleQuotedString"),s=r("../util/isStringNumber");i.exports=function(r){var i=r.split("::")[0],t=r.split("::")[1],a=s(i)||o(i)||e(i);if(t){if(a&&n(t))return r}else if(a)return r}},{"../util/isDataType":63,"../util/isFieldName":65,"../util/isSingleQuotedString":75,"../util/isStringNumber":78}],56:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.SUM;return e(t)&&(i="SUM("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":27}],57:[function(r,i,t){function n(r){var i,t=0;if("number"==typeof r)return 1;if("string"==typeof r)return 1;if("object"==typeof r)if(Array.isArray(r))for(var e=0;e<r.length;e++)t+=n(r[e]);else{i=Object.keys(r);for(var o=0;o<i.length;o++)t+=n(r[i[o]])+1}return t}i.exports=n},{}],58:[function(r,i,t){var n=r("./isString"),e=r("./isStringWithSpace");i.exports=function(r){return e(r)?'"'+r+'"':n(r)?r:void 0}},{"./isString":77,"./isStringWithSpace":80}],59:[function(r,i,t){i.exports=function(r){return"("+r+")"}},{}],60:[function(r,i,t){var n=r("./isKeyword");i.exports=function(r){return n("JOIN")(r)||n("LEFT JOIN")(r)||n("RIGHT JOIN")(r)}},{"./isKeyword":66}],61:[function(r,i,t){var n=r("../error"),e=r("./isDataType");i.exports=function(r){var i=r.split("::")[1];if(i){if(e(i))return!0;throw n.invalidDataType(i)}return!1}},{"../error":4,"./isDataType":63}],62:[function(r,i,t){var n=r("../comparisonOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"../comparisonOperators.json":1}],63:[function(r,i,t){var n=r("../dataTypes.json");i.exports=function(r){var i=r.toUpperCase();return n.indexOf(i)>-1}},{"../dataTypes.json":2}],64:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/^"[^"]*"$/.test(r)}},{"./isString":77}],65:[function(r,i,t){var n=r("./isValidName"),e=r("./isString");i.exports=function(r){if(!e(r))return!1;var i=r.split("."),t=i[0],o=i[1],s=i[2];return!(0===i.length||i.length>3)&&(1===i.length?n(t):2===i.length?n(t)&&n(o):3===i.length?n(t)&&n(o)&&n(s):void 0)}},{"./isString":77,"./isValidName":82}],66:[function(r,i,t){var n=r("../functions.json"),e=r("../keywords.json"),o=r("../setOperators.json"),s=e.concat(n).concat(o);i.exports=function(r){return r?function(i){if(!i)return!1;var t=i.toUpperCase();return-1!==s.indexOf(t)&&r===t}:function(r){if(!r)return!1;var i=r.toUpperCase();return s.indexOf(i)>-1}}},{"../functions.json":13,"../keywords.json":14,"../setOperators.json":25}],67:[function(r,i,t){var n=r("../comparisonOperators.json"),e=r("../logicalOperators.json"),o=r("../mathOperators.json"),s=r("../setOperators.json"),a=r("../stringOperators.json"),u=r("../keywords.json");i.exports=function(r){if(n.indexOf(r)>-1)return!0;if(e.indexOf(r)>-1)return!0;if(o.indexOf(r)>-1)return!0;if(s.indexOf(r)>-1)return!0;if(a.indexOf(r)>-1)return!0;var i=r.toUpperCase();return u.indexOf(i)>-1}},{"../comparisonOperators.json":1,"../keywords.json":14,"../logicalOperators.json":15,"../mathOperators.json":16,"../setOperators.json":25,"../stringOperators.json":26}],68:[function(r,i,t){var n=r("../logicalOperators.json");i.exports=function(r){return function(i){var t=i.toUpperCase();return-1!==n.indexOf(t)&&r===t}}},{"../logicalOperators.json":15}],69:[function(r,i,t){var n=r("../mathOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"../mathOperators.json":16}],70:[function(r,i,t){i.exports=function(r){return"number"==typeof r}},{}],71:[function(r,i,t){var n=r("./isNumber"),e=r("./isString");i.exports=function(r){return n(r)||e(r)}},{"./isNumber":70,"./isString":77}],72:[function(r,i,t){i.exports=function(r){return"object"==typeof r}},{}],73:[function(r,i,t){var n=r("../partialKeywords.json");i.exports=function(r){var i=r.toUpperCase();return n.indexOf(i)>-1}},{"../partialKeywords.json":24}],74:[function(r,i,t){var n=r("../setOperators.json");i.exports=function(r){return function(i){if(i){var t=i.toUpperCase();return-1!==n.indexOf(t)&&r===t}}}},{"../setOperators.json":25}],75:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/^'[^']*'$/.test(r)}},{"./isString":77}],76:[function(r,i,t){i.exports=function(r){return"*"===r}},{}],77:[function(r,i,t){var n=r("./isStar");i.exports=function(r){return"string"==typeof r&&!n(r)}},{"./isStar":76}],78:[function(r,i,t){var n=r("./isCastedValue");i.exports=function(r){return!n(r)&&!isNaN(parseFloat(r))}},{"./isCastedValue":61}],79:[function(r,i,t){var n=r("../stringOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"../stringOperators.json":26}],80:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/\s/.test(r)}},{"./isString":77}],81:[function(r,i,t){var n=r("./isKeyword"),e=r("./isString"),o=r("./isValidName");i.exports=function(r){if(!e(r))return!1;if(n()(r))return!1;var i=r.split(".");return!(0===i.length||i.length>2)&&(1===i.length?o(i[0]):2===i.length?o(i[0])&&o(i[1]):void 0)}},{"./isKeyword":66,"./isString":77,"./isValidName":82}],82:[function(r,i,t){var n=r("./isString");i.exports=function(r){return!!n(r)&&/^[a-zA-Z_][a-zA-Z_0-9]*$/.test(r)}},{"./isString":77}],83:[function(r,i,t){i.exports=function(r){return"string"==typeof r?"'"+r+"'":r}},{}],84:[function(r,i,t){i.exports=function(r){return r.substring(1,r.length-1)}},{}],85:[function(r,i,t){var n=[">","<","!"],e=["(",")",",",";"],o=r("../comparisonOperators.json").concat(e);i.exports=function(r){var i=[];return r.trim().split(" ").filter(function(r){return""!==r}).forEach(function(r){for(var t="",e=r.length,s=0;s<e;s++){var a,u=r[s],l=s===e-1,f=o.indexOf(u)>-1;if(n.indexOf(u)>-1&&!l){var c=u+(a=r[s+1]);o.indexOf(c)>-1&&(""!==t&&i.push(t),i.push(c),t="",s+=1)}f?(""!==t&&i.push(t),i.push(u),t=""):(t+=u,l&&i.push(t))}}),i}},{"../comparisonOperators.json":1}],86:[function(r,i,t){var n=r("./splitOnOperators"),e=r("./isPartialKeyword");i.exports=function(r){var i=[],t=!1,o="";r.trim().split("'").forEach(function(r,e,s){if(t){if(""===o?o=r:o+="'"+r,e===s.length-1)return void i.push("'"+o);if(""===s[e+1])return;i.push("'"+o+"'")}else{o="";var a="",u='"'===(r=r.trim())[0];r.split("").forEach(function(r,t,e){var o="\n"===r||"\r"===r||"\t"===r;" "===r||o?u?a+=" ":""!==a&&(i=i.concat(n(a)),a=""):'"'===r?u?(u=!1,i.push(a+'"'),a=""):(u=!0,a='"'):(a+=r,t===e.length-1&&(i=i.concat(n(a))))})}t=!t});for(var s=[],a=i.length,u=0;u<a;u++){var l,f,c=i[u];u<a-1&&(f=(l=i[u+1]).toUpperCase());var p,E;if(u<a-2&&(E=(p=i[u+2]).toUpperCase()),e(c)){var v=c.toUpperCase();"CREATE"===v&&["DATABASE","SCHEMA","SEQUENCE","TABLE","USER","VIEW"].indexOf(f)>-1&&(s.push(c+" "+l),u+=1),"GROUP"!==v&&"ORDER"!==v||"BY"===f&&(s.push(c+" "+l),u+=1),"LEFT"!==v&&"RIGHT"!==v||("OUTER"===f&&"JOIN"===E&&(s.push(c+" "+l+" "+p),u+=2),"JOIN"===f&&(s.push(c+" "+l),u+=1)),"INNER"!==v&&"CROSS"!==v||"JOIN"===f&&(s.push(c+" "+l),u+=1),"FULL"===v&&"OUTER"===f&&"JOIN"===E&&(s.push(c+" "+l+" "+p),u+=2),"UNION"===v&&("ALL"===f?(s.push(c+" "+l),u+=1):s.push(c))}else s.push(c)}return s}},{"./isPartialKeyword":73,"./splitOnOperators":85}],87:[function(r,i,t){var n=r("../error");i.exports=function(r,i){for(var t,e=r.length,o=[],s=!1,a=!1,u=0,l=i;l<e;l++)if("("===(t=r[l])&&u++,")"===t&&u--,"("===t&&1===u&&(s=!0),s&&(o.push(t),")"===t&&0===u)){a=!0;break}if(!a&&s)throw n.unclosedParenthesisExpression(r);return o}},{"../error":4}],"sql92-json":[function(r,i,t){i.exports=t.default={parse:r("./src/parse"),stringify:r("./src/stringify")}},{"./src/parse":21,"./src/stringify":45}]},{},[]);