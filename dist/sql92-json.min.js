// http://g14n.info/SQL92-JSON
require=function r(i,t,n){function e(s,u){if(!t[s]){if(!i[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[s]={exports:{}};i[s][0].call(f.exports,function(r){var t=i[s][1][r];return e(t||r)},f,f.exports,r,i,t,n)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)e(n[s]);return e}({1:[function(r,i,t){i.exports=["=",">","<","<>","<=",">=","!="]},{}],2:[function(r,i,t){i.exports=["BOOLEAN","CHARACTER","CHARACTER VARYING","DATE","DECIMAL","FLOAT","INTEGER","INTERVAL","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARCHAR"]},{}],3:[function(r,i,t){i.exports=function(r){var i="Could not parse select field";r&&(i=i+" "+JSON.stringify(r));var t=new TypeError(i);return t.field=r,t}},{}],4:[function(r,i,t){i.exports=function(r){var i="Function required";r&&(i+=": "+r);var t=new Error(i);return t.functionName=r,t}},{}],5:[function(r,i,t){i.exports={couldNotParseSelectField:r("./couldNotParseSelectField"),functionRequired:r("./functionRequired"),invalidAlias:r("./invalidAlias"),invalidDataType:r("./invalidDataType"),invalidInterval:r("./invalidInterval"),invalidJSONData:r("./invalidJSONData"),invalidOperand:r("./invalidOperand"),invalidSQL:r("./invalidSQL"),invalidTableName:r("./invalidTableName"),unclosedParenthesisExpression:r("./unclosedParenthesisExpression")}},{"./couldNotParseSelectField":3,"./functionRequired":4,"./invalidAlias":6,"./invalidDataType":7,"./invalidInterval":8,"./invalidJSONData":9,"./invalidOperand":10,"./invalidSQL":11,"./invalidTableName":12,"./unclosedParenthesisExpression":13}],6:[function(r,i,t){i.exports=function(r){var i="Invalid alias";r&&(i+=": "+JSON.stringify(r));var t=new Error(i);return t.alias=r,t}},{}],7:[function(r,i,t){i.exports=function(r){var i="Invalid data type";r&&(i+=": "+r);var t=new Error(i);return t.dataType=r,t}},{}],8:[function(r,i,t){i.exports=function(r,i){var t="invalid interval";(r||i)&&(t+=":"),r&&(t+=" "+r),i&&(t+=" "+i);var n=new Error(t);return n.left=r,n.right=i,n}},{}],9:[function(r,i,t){i.exports=function(r){var i="Invalid JSON data";r&&(i+=": "+JSON.stringify(r));var t=new Error(i);return t.data=r,t}},{}],10:[function(r,i,t){i.exports=function(r){var i="Invalid operand";r&&(i+=": "+r);var t=new Error(i);return t.operand=r,t}},{}],11:[function(r,i,t){i.exports=function(r){var i="Invalid SQL";r&&(i+=": "+r);var t=new Error(i);return t.sql=r,t}},{}],12:[function(r,i,t){i.exports=function(r){var i="Invalid table name";r&&(i+=": "+r);var t=new Error(i);return t.tableName=r,t}},{}],13:[function(r,i,t){i.exports=function(r){var i=new Error("Unclosed parenthesis");return i.tokens=r,i}},{}],14:[function(r,i,t){i.exports=["COUNT","MAX","MIN","AVG","SUM","COALESCE","NVL"]},{}],15:[function(r,i,t){i.exports=["AS","ASC","BETWEEN","COALESCE","CREATE DATABASE","CREATE SCHEMA","CREATE SEQUENCE","CREATE TABLE","CREATE USER","CREATE VIEW","DATABASE","DELETE","DESC","DROP","EXPLAIN","FALSE","FROM","FULL OUTER JOIN","GRANT","INSERT","JOIN","GROUP BY","HAVING","INNER JOIN","IS","LIMIT","LIKE","LEFT JOIN","LEFT OUTER JOIN","ORDER BY","OUTER JOIN","NOT LIKE","NOT BETWEEN","NULL","NVL","OFFSET","ON","RIGHT JOIN","SELECT","SET","TABLE","TRUE","UNION ALL","UPDATE","USER","VIEW","WHERE","WITH"]},{}],16:[function(r,i,t){i.exports=["AND","OR"]},{}],17:[function(r,i,t){i.exports=["+","-","*","/","%"]},{}],18:[function(r,i,t){var n=r("../error"),e=r("../util/isLogicalOperator"),o=r("../util/isKeywordOrOperator"),s=r("../util/isStringNumber"),u=e("AND");i.exports=function(r,i,t,e,a){var l=[],f={};if(a?f["NOT BETWEEN"]=[]:f.BETWEEN=[],!u(t))throw n.invalidSQL();if(o(i)||o(e))throw n.invalidInterval(i,e);return s(i)&&(i=parseFloat(i)),s(e)&&(e=parseFloat(e)),a?f["NOT BETWEEN"].push(i,e):f.BETWEEN.push(i,e),l.push(r),l.push(f),l}},{"../error":5,"../util/isKeywordOrOperator":75,"../util/isLogicalOperator":76,"../util/isStringNumber":86}],19:[function(r,i,t){var n=r("../error"),e=r("../util/isKeywordOrOperator"),o=r("../util/isStringNumber");i.exports=function(r,i,t){var s={};if(e(r))throw n.invalidOperand(r);if(e(t))throw n.invalidOperand(t);return o(r)&&(r=parseFloat(r)),o(t)&&(t=parseFloat(t)),s[i]=t,[r,s]}},{"../error":5,"../util/isKeywordOrOperator":75,"../util/isStringNumber":86}],20:[function(r,i,t){function n(r,i,t,u){for(var E,v,I,y,R,C,m,b,w,U=[],F=r.length,D=!1,j=null,B=null,M=null,K=i;K<F;K++){y=r[K],I=r[K+1],E=r[K+2];var W;if(f(y))break;if(d(y)&&(j={AND:[]}),h(y)&&(B={OR:[]}),!L(y)&&"("===I){D=!1,W=1;var k=[];for(b=K+2;b<F;b++)D||("("===(y=r[b])&&W++,")"===y&&W--,0===W?(D=!0,K=b+1):k.push(y));if(!D)throw e.unclosedParenthesisExpression(r);var Q=n(k,0,t,u);j?(j.AND=Q,U=U.concat(j),j=null):B?(B.OR=Q,U=U.concat(B),B=null):U=U.concat(Q)}if(T(I)||g(I))try{g(I)&&(w=!0),R=o(y,r[K+2],r[K+3],r[K+4],w),j?(j.AND=R,U=U.concat(j),j=null):B?(B.OR=R,U=U.concat(B),B=null):U=U.concat(R),K+=4}catch(r){throw r}if(A(I)||x(I))try{R=s(y,I,E),j?(j.AND=R,U=U.concat(j),j=null):B?(B.OR=R,U=U.concat(B),B=null):U=U.concat(R),K+=2}catch(r){throw r}if(c(I))try{R=S(y,I,E),j?(j.AND=j.AND.concat(R),U=U.concat(j),j=null):B?(B.OR=B.OR.concat(R),U=U.concat(B),B=null):U=U.concat(R),K+=1}catch(r){throw r}if(L(y)){if(C=r[K-1],I=r[K+1],D=!1,"("!==I)throw e.invalidSQL(u);if(!E)throw e.invalidSQL(u);if(N(E)){M={};var P=[];for(b=K+2;b<F;b++)")"===(y=r[b])?(M.IN=t(P,u),U.push(C,M),D=!0,K=b):P.push(y);if(!D)throw e.invalidSQL(u);D=!1}else{if(M||(M={}),m=[],p(C))throw e.invalidSQL(u);if(l(C))throw e.invalidSQL(u);for(b=K+2;b<F;b+=2)if(v=r[b],","!==(I=r[b+1])&&")"!==I||(a(v)&&m.push(O(v)),l(v)&&m.push(parseFloat(v))),")"===I){K=b+1,D=!0;break}if(!D)throw e.invalidSQL(u);if(M[y]=m,j){j.AND.push(C,M),U.push(j),j=null,M=null;continue}if(B){B.OR.push(C,M),U.push(B),B=null,M=null;continue}U.push(C,M),M=null}}}return U}var e=r("../error"),o=r("./between"),s=r("./like"),u=r("../util/isKeyword"),a=r("../util/isSingleQuotedString"),l=r("../util/isStringNumber"),f=r("../util/isAnyJoin"),c=r("../util/isComparisonOperator"),p=r("../util/isKeywordOrOperator"),E=r("../util/isLogicalOperator"),v=r("../util/isSetOperator"),S=r("./comparison"),O=r("../util/removeFirstAndLastChar"),N=u("SELECT"),d=E("AND"),h=E("OR"),T=v("BETWEEN"),A=u("LIKE"),g=v("NOT BETWEEN"),x=u("NOT LIKE"),L=u("IN");i.exports=n},{"../error":5,"../util/isAnyJoin":68,"../util/isComparisonOperator":70,"../util/isKeyword":74,"../util/isKeywordOrOperator":75,"../util/isLogicalOperator":76,"../util/isSetOperator":82,"../util/isSingleQuotedString":83,"../util/isStringNumber":86,"../util/removeFirstAndLastChar":92,"./between":18,"./comparison":19,"./like":24}],21:[function(r,i,t){var n=r("../error"),e=r("../util/isKeyword"),o=r("../util/isTableName"),s=e("CREATE TABLE");i.exports=function(r,i){var t,e,u={},a=r[0],l=r[1],f=r.length;if(!s(a))throw n.invalidSQL(i);if(!o(l))throw n.invalidTableName(l);u.name=l,u.fields=[];for(var c=2;c<f;c++)t=r[c],e=r[c+1],"("!==t&&","!==t&&")"!==t&&(u.fields.push([t,e]),c++);return{"CREATE TABLE":u}}},{"../error":5,"../util/isKeyword":74,"../util/isTableName":89}],22:[function(r,i,t){var n=r("../error"),e=r("../util/isKeyword"),o=r("../util/tokenize"),s=r("./createTable"),u=r("./select"),a=e("CREATE TABLE"),l=e("DELETE"),f=e("DROP"),c=e("INSERT"),p=e("SELECT"),E=e("TRUNCATE"),v=e("UPDATE");i.exports=function(r){var i=o(r),t=i[0];return-1===i.indexOf(";")?function(i,e){if(!(a(t)||l(t)||f(t)||c(t)||p(t)||E(t)||v(t)))throw n.invalidSQL(r);return a(t)?s(e,r):p(t)?u(e,r):void 0}(0,i):[]}},{"../error":5,"../util/isKeyword":74,"../util/tokenize":94,"./createTable":21,"./select":25}],23:[function(r,i,t){function n(r,i,t,u){for(var f=r.length,c={},p=!1,E=i;E<f;E++){var v=r[E],S=r[E+1];if(o(v)){c[v]=n(r,E+1,t,u);break}if(p){if(l(v)){c.ON=e(r,E,t,u),E+=s(c.ON);continue}}else a(v)&&(p=!0,c[S]=v,E++)}return c}var e=r("./condition"),o=r("../util/isAnyJoin"),s=r("../util/countTokens"),u=r("../util/isKeyword"),a=r("../util/isTableName"),l=u("ON");i.exports=n},{"../util/countTokens":65,"../util/isAnyJoin":68,"../util/isKeyword":74,"../util/isTableName":89,"./condition":20}],24:[function(r,i,t){i.exports=function(r,i,t){var n={};return n[i]=t,[r,n]}},{}],25:[function(r,i,t){function n(r,i){var t,W,k,Q,P,V,G,J,H,Y,q,X,z,_,$,Z,rr,ir,tr,nr,er,or,sr,ur,ar,lr,fr={SELECT:[]},cr=r[0],pr=r.length,Er=!1,vr=!1,Sr=!1,Or=!1,Nr=!1,dr=!1,hr=!1,Tr=!1,Ar=!1;if(!U(cr))throw e.invalidSQL(i);for(rr=1;rr<pr;rr++){if(Z=r[rr],X=r[rr+1],q=r[rr+2],x(Z)){Er=!0,ir=rr;break}if(D(Z)){hr=!0,ar=rr;break}if(j(Z)){Tr=!0,ur=rr;break}if(","!==Z)if(g(Z))fr.DISTINCT=!0;else if(N(X)){if(t={AS:{}},!c(q))throw e.invalidSQL(i);u(q)&&(q=S(q)),p(Z)&&(Z=parseFloat(Z)),t.AS[q]=Z,fr.SELECT.push(t),rr+=2}else l(X)?(fr.SELECT.push([parseFloat(Z),X,parseFloat(q)]),rr+=2):p(Z)?fr.SELECT.push(parseFloat(Z)):h(Z)?(W={},O(r,rr+1).forEach(function(r){rr++,["(",",",")"].indexOf(r)>-1||(p(r)?W.AVG=parseFloat(r):W.AVG=r)}),X=r[rr+1],q=r[rr+2],N(X)&&(u(q)&&(q=S(q)),W.AS=q,rr+=2),fr.SELECT.push(W)):T(Z)?(k={},O(r,rr+1).forEach(function(r){rr++,["(",",",")"].indexOf(r)>-1||(g(r)?k.DISTINCT=!0:p(r)?k.COUNT=parseFloat(r):k.COUNT=r)}),X=r[rr+1],q=r[rr+2],N(X)&&(u(q)&&(q=S(q)),k.AS=q,rr+=2),fr.SELECT.push(k)):R(Z)?(P={},O(r,rr+1).forEach(function(r){rr++,["(",",",")"].indexOf(r)>-1||(p(r)?P.MAX=parseFloat(r):P.MAX=r)}),X=r[rr+1],q=r[rr+2],N(X)&&(u(q)&&(q=S(q)),P.AS=q,rr+=2),fr.SELECT.push(P)):C(Z)?(V={},O(r,rr+1).forEach(function(r){rr++,["(",",",")"].indexOf(r)>-1||(p(r)?V.MIN=parseFloat(r):V.MIN=r)}),X=r[rr+1],q=r[rr+2],N(X)&&(u(q)&&(q=S(q)),V.AS=q,rr+=2),fr.SELECT.push(V)):m(Z)?(G={NVL:[]},O(r,rr+1).forEach(function(r){rr++,["(",",",")"].indexOf(r)>-1||(p(r)?G.NVL.push(parseFloat(r)):G.NVL.push(r))}),X=r[rr+1],q=r[rr+2],N(X)&&(u(q)&&(q=S(q)),G.AS=q,rr+=2),fr.SELECT.push(G)):F(Z)?(H={},O(r,rr+1).forEach(function(r){rr++,["(",",",")"].indexOf(r)>-1||(p(r)?H.SUM=parseFloat(r):H.SUM=r)}),X=r[rr+1],q=r[rr+2],N(X)&&(u(q)&&(q=S(q)),H.AS=q,rr+=2),fr.SELECT.push(H)):c(Z)?E(X)?(fr.SELECT.push([Z,X,q]),rr+=2):fr.SELECT.push(Z):(f(Z)&&fr.SELECT.push(Z),"("===Z&&U(X)&&(J={},$=O(r,rr),X=r[rr+=$.length],q=r[rr+1],$.shift(),$.pop(),N(X)?(u(q)&&(q=S(q)),J.AS={},J.AS[q]=n($,i),fr.SELECT.push(J),rr+=1):fr.SELECT.push(n($,i))))}if(Er){for(fr.FROM=[],rr=ir+1;rr<pr;rr++){if(Z=r[rr],X=rr<pr-1?r[rr+1]:null,B(Z)&&(Ar=!0,lr=rr),L(Z)&&(Sr=!0,tr=rr),I(Z)&&(Or=!0,nr=rr),w(Z)&&(dr=!0,sr=rr),D(Z)){hr=!0,ar=rr;break}if(j(Z)){Tr=!0,ur=rr;break}if(!(Ar||Sr||Or||dr)&&","!==Z){if("("===Z){if(J={},($=O(r,rr)).shift(),$.pop(),rr=rr+$.length+1,X=r[rr+1],q=r[rr+2],z=!a()(X),_=c(X)&&z,!U($[0]))throw e.invalidSQL(i);if(!_){fr.FROM.push(n($,i));continue}if(!s(q)){J[X]=n($,i),fr.FROM.push(J),rr+=2;continue}}if(v(Z)){if(Y=Z,X=r[rr+1],q=r[rr+2],z=!a()(X),_=c(X)&&z){if(Y={},Y[X]=Z,s(q)){Y[Q=q]=K(r,rr+3,n,i),fr.FROM.push(Y),rr+=o(Y[Q])+2;continue}fr.FROM.push(Y),rr+=1;continue}fr.FROM.push(Y)}else;}}if(Ar){if(lr===pr-3)throw e.invalidSQL(i);fr.WHERE=M(r,lr,n,i)}if(Sr)for(fr["GROUP BY"]=[],rr=tr+1;rr<pr;rr++)if(","!==(Z=r[rr])){if(a()(Z))break;p(Z)&&(Z=parseFloat(Z)),fr["GROUP BY"].push(Z)}if(Or){if(nr===pr-3)throw e.invalidSQL(i);fr.HAVING=M(r,nr,n,i)}if(dr)for(fr["ORDER BY"]=[],rr=sr+1;rr<pr;rr++)if(Z=r[rr],X=r[rr+1],","!==Z){if(a()(Z))break;p(Z)&&(Z=parseFloat(Z)),A(X)?(fr["ORDER BY"].push({DESC:Z}),rr++):d(X)?(fr["ORDER BY"].push({ASC:Z}),rr++):fr["ORDER BY"].push(Z)}for(rr=ir;rr<pr;rr++)vr||(Z=r[rr],y(Z)&&(vr=!0,er=rr));if(vr){if(er===pr-1)throw e.invalidSQL(i);var gr=r[er+1];if(!p(gr))throw e.invalidSQL(i);if(!((gr=parseFloat(gr))>=0))throw e.invalidSQL(i);fr.LIMIT=gr}for(rr=ir;rr<pr;rr++)Nr||(Z=r[rr],b(Z)&&(Nr=!0,or=rr));if(Nr){if(or===pr-1)throw e.invalidSQL(i);var xr=r[or+1];if(!p(xr))throw e.invalidSQL(i);if(!((xr=parseFloat(xr))>=0))throw e.invalidSQL(i);fr.OFFSET=xr}}return hr&&(fr.UNION=n(r.splice(ar+1),i)),Tr&&(fr["UNION ALL"]=n(r.splice(ur+1),i)),fr}var e=r("../error"),o=r("../util/countTokens"),s=r("../util/isAnyJoin"),u=r("../util/isDoubleQuotedString"),a=r("../util/isKeyword"),l=r("../util/isMathOperator"),f=r("../util/isStar"),c=r("../util/isString"),p=r("../util/isStringNumber"),E=r("../util/isStringOperator"),v=r("../util/isTableName"),S=r("../util/removeFirstAndLastChar"),O=r("../util/tokensEnclosedByParenthesis"),N=a("AS"),d=a("ASC"),h=a("AVG"),T=a("COUNT"),A=a("DESC"),g=a("DISTINCT"),x=a("FROM"),L=a("GROUP BY"),I=a("HAVING"),y=a("LIMIT"),R=a("MAX"),C=a("MIN"),m=a("NVL"),b=a("OFFSET"),w=a("ORDER BY"),U=a("SELECT"),F=a("SUM"),D=a("UNION"),j=a("UNION ALL"),B=a("WHERE"),M=r("./condition"),K=r("./join");i.exports=n},{"../error":5,"../util/countTokens":65,"../util/isAnyJoin":68,"../util/isDoubleQuotedString":72,"../util/isKeyword":74,"../util/isMathOperator":77,"../util/isStar":84,"../util/isString":85,"../util/isStringNumber":86,"../util/isStringOperator":87,"../util/isTableName":89,"../util/removeFirstAndLastChar":92,"../util/tokensEnclosedByParenthesis":95,"./condition":20,"./join":23}],26:[function(r,i,t){i.exports=["CREATE","CROSS","FULL","GROUP","INNER","IS","LEFT","NOT","ORDER","RIGHT","UNION"]},{}],27:[function(r,i,t){i.exports=["BETWEEN","DISTINCT","EXISTS","IN","INTERSECT","NOT BETWEEN","NOT EXISTS","UNION","UNION ALL"]},{}],28:[function(r,i,t){i.exports=["||"]},{}],29:[function(r,i,t){var n=r("../error"),e=r("../util/doubleQuoteIfStringContainsSpace"),o=r("../util/encloseWithParenthesis"),s=r("../util/isNumber"),u=r("../util/isObject"),a=r("./isSelect"),l=r("../util/isString"),f=r("./stringField");i.exports=function(r,i){var t,c,p="",E=r.AS;if(l(E)&&(p+=" AS "+e(E)),u(E)){if((t=Object.keys(E)).length>1)throw n.invalidAlias(r);if(t=t[0],c=E[t],s(c)&&(p=c),l(c)&&(p=f(c)),a(c)){if("function"!=typeof i)throw n.functionRequired("select");p=o(i(c))}p+=" AS "+e(t)}return p}},{"../error":5,"../util/doubleQuoteIfStringContainsSpace":66,"../util/encloseWithParenthesis":67,"../util/isNumber":78,"../util/isObject":80,"../util/isString":85,"./isSelect":55,"./stringField":63}],30:[function(r,i,t){var n=r("../error"),e=r("./aliasExpression"),o=r("../util/isString");i.exports=function(r){var i=r.AVG;if(o(i))return"AVG("+i+")"+e(r);throw n.couldNotParseSelectField(i)}},{"../error":5,"../util/isString":85,"./aliasExpression":29}],31:[function(r,i,t){var n=r("./filter");i.exports=function(r){return function(i){for(var t=i.shift(),e=i.shift(),o=n(r),s=t+" "+o(e),u=0;u<i.length;u++)s+=" "+o(i[u]);return s}}},{"./filter":33}],32:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isStar"),o=r("../util/isString");i.exports=function(r){var i="",t=r.COUNT;return e(t)&&(i="COUNT(*)"),1===t&&(i="COUNT(1)"),o(t)&&(i=r.DISTINCT?"COUNT(DISTINCT "+t+")":"COUNT("+t+")"),i+n(r)}},{"../util/isStar":84,"../util/isString":85,"./aliasExpression":29}],33:[function(r,i,t){var n=r("../error"),e=r("../util/encloseWithParenthesis"),o=r("./isBetween"),s=r("./isLike"),u=r("./isNotLike"),a=r("./isNotBetween"),l=r("./isSelect"),f=r("../util/quoteIfString"),c=Array.isArray,p=r("../comparisonOperators");i.exports=function(r){return function i(t){var E;for(E=0;E<p.length;E++){var v=p[E],S=t[v];if(void 0!==S)return v+" "+S}var O=t.IN;if(O){if(c(O))return"IN "+e(t.IN.map(f).join(", "));if(l(O)){if("function"==typeof r)return"IN "+e(r(O));throw n.functionRequired("select")}}var N=t.AND;if(c(N)){var d=N[0]+" "+i(N[1]);for(E=2;E<N.length;E++)d+=" "+i(N[E]);return 2===N.length?"AND "+d:"AND "+e(d)}var h=t.BETWEEN;if(o(t))return"BETWEEN "+h.join(" AND ");var T=t["NOT BETWEEN"];if(a(t))return"NOT BETWEEN "+T.join(" AND ");var A=t.LIKE;if(s(t))return"LIKE "+A;var g=t["NOT LIKE"];if(u(t))return"NOT LIKE "+g;var x=t.OR;if(c(x)){var L=x[0]+" "+i(x[1]);for(E=2;E<x.length;E++)L+=" "+i(x[E]);return 2===x.length?"OR "+L:"OR "+e(L)}}}},{"../comparisonOperators":1,"../error":5,"../util/encloseWithParenthesis":67,"../util/quoteIfString":91,"./isBetween":50,"./isLike":52,"./isNotBetween":53,"./isNotLike":54,"./isSelect":55}],34:[function(r,i,t){var n=r("../util/isAnyJoin");i.exports=function(r){for(var i=Object.keys(r),t=0;t<i.length;t++){var e=i[t];if(n(e))return e}}},{"../util/isAnyJoin":68}],35:[function(r,i,t){var n=r("../util/isKeyword"),e=r("./isSelect");i.exports=function(r){for(var i,t=Object.keys(r),o=0;o<t.length;o++){var s=t[o];if(!n()(s))return i=r[s],e(i)?s:void 0}}},{"../util/isKeyword":74,"./isSelect":55}],36:[function(r,i,t){var n=r("./getResultSetAlias"),e=r("../util/isKeyword")("AS");i.exports=function(r){var i,t,o=Object.keys(r),s=n(r);if(s)i={},t=r[s],i[s]=t;else for(var u=0;u<o.length;u++){var a=o[u];if(e(a)){if(s=n(r[a])){i={AS:r[a]};break}return}}return i}},{"../util/isKeyword":74,"./getResultSetAlias":35}],37:[function(r,i,t){var n=r("../util/isKeyword"),e=r("../util/isTableName");i.exports=function(r){for(var i,t=Object.keys(r),o=0;o<t.length;o++){var s=t[o];if(!n()(s))return i=r[s],e(i)?s:void 0}}},{"../util/isKeyword":74,"../util/isTableName":89}],38:[function(r,i,t){var n=r("./getTableNameAlias"),e=r("../util/isKeyword")("AS");i.exports=function(r){var i,t,o=Object.keys(r),s=n(r);if(s)i={},t=r[s],i[s]=t;else for(var u=0;u<o.length;u++){var a=o[u];if(e(a)){if(s=n(r[a])){i={AS:r[a]};break}return}}return i}},{"../util/isKeyword":74,"./getTableNameAlias":37}],39:[function(r,i,t){var n=r("../util/isString");i.exports=function(r){if(n(r))return r}},{"../util/isString":85}],40:[function(r,i,t){var n=r("../error");i.exports=function(r){var i=r.FROM;if(i){if(Array.isArray(i)&&i.length>0)return!0;throw n.invalidJSONData({FROM:i})}return!1}},{"../error":5}],41:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r["GROUP BY"];return Array.isArray(i)&&i.length>0&&i.filter(n).length===i.length}},{"../util/isNumberOrString":79}],42:[function(r,i,t){i.exports=function(r){return Array.isArray(r.HAVING)&&r.HAVING.length>1}},{}],43:[function(r,i,t){i.exports=function(r){var i=r.LIMIT;return"number"==typeof i&&i>0}},{}],44:[function(r,i,t){i.exports=function(r){var i=r.OFFSET;return"number"==typeof i&&i>0}},{}],45:[function(r,i,t){var n=r("../util/isNumberOrString"),e=r("../util/isObject");i.exports=function(r){var i=r["ORDER BY"];return!!i&&!!(Array.isArray(i)&&i.length>0)&&i.filter(function(r){if(n(r))return!0;if(e(r)){if(n(r.DESC))return!0;if(n(r.ASC))return!0}return!1}).length===i.length}},{"../util/isNumberOrString":79,"../util/isObject":80}],46:[function(r,i,t){var n=r("./isSelect");i.exports=function(r){var i=r.UNION;return i&&n(i)}},{"./isSelect":55}],47:[function(r,i,t){var n=r("./isSelect");i.exports=function(r){var i=r["UNION ALL"];return i&&n(i)}},{"./isSelect":55}],48:[function(r,i,t){i.exports=function(r){return Array.isArray(r.WHERE)&&r.WHERE.length>1}},{}],49:[function(r,i,t){var n=r("./isCreateTable"),e=r("./isSelect"),o=r("./select");i.exports=function(r){var i="";return n(r)&&(i="CREATE TABLE "+r["CREATE TABLE"].name+" (",r["CREATE TABLE"].fields.forEach(function(r,t,n){i+=r[0]+" "+r[1],t===n.length-1?i+=")":i+=", "})),e(r)&&(i&&(i+=" "),i+=o(r,i)),i}},{"./isCreateTable":51,"./isSelect":55,"./select":61}],50:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r.BETWEEN;return Array.isArray(i)&&2===i.length&&n(i[0])&&n(i[1])}},{"../util/isNumberOrString":79}],51:[function(r,i,t){var n=r("../util/isDataType"),e=r("../util/isTableName"),o=r("../util/isValidName");i.exports=function(r){var i=r["CREATE TABLE"];if(!i)return!1;if(!e(i.name))return!1;if(!Array.isArray(i.fields))return!1;var t=i.fields.length;if(0===t)return!1;for(var s=0;s<t;s++){var u=i.fields[s];if(!o(u[0]))return!1;if(!n(u[1]))return!1}return!0}},{"../util/isDataType":71,"../util/isTableName":89,"../util/isValidName":90}],52:[function(r,i,t){var n=r("../util/isSingleQuotedString");i.exports=function(r){var i=r.LIKE;return n(i)}},{"../util/isSingleQuotedString":83}],53:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r["NOT BETWEEN"];return Array.isArray(i)&&2===i.length&&n(i[0])&&n(i[1])}},{"../util/isNumberOrString":79}],54:[function(r,i,t){var n=r("../util/isSingleQuotedString");i.exports=function(r){var i=r["NOT LIKE"];return n(i)}},{"../util/isSingleQuotedString":83}],55:[function(r,i,t){i.exports=function(r){var i=r.SELECT;return Array.isArray(i)&&i.length>0}},{}],56:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.MAX;return e(t)&&(i="MAX("+t+")"),i+n(r)}},{"../util/isString":85,"./aliasExpression":29}],57:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.MIN;return e(t)&&(i="MIN("+t+")"),i+n(r)}},{"../util/isString":85,"./aliasExpression":29}],58:[function(r,i,t){var n=r("./aliasExpression");i.exports=function(r){var i=r.NVL;return"NVL("+i[0]+", "+i[1]+")"+n(r)}},{"./aliasExpression":29}],59:[function(r,i,t){var n=r("../util/isNumberOrString"),e=r("../util/isObject");i.exports=function(r){if(n(r))return r;if(e(r)){if(n(r.DESC))return r.DESC+" DESC";if(n(r.ASC))return r.ASC+" ASC"}}},{"../util/isNumberOrString":79,"../util/isObject":80}],60:[function(r,i,t){var n=r("./conditions"),e=r("../util/encloseWithParenthesis"),o=r("./getTableNameAlias"),s=r("./getTableNameWithAlias"),u=r("./getResultSetAlias"),a=r("./getResultSetWithAlias"),l=r("./getJoinKeyword"),f=r("../util/isTableName"),c=r("./isSelect");i.exports=function(r){return function i(t,p){if(f(t))return t;if(c(t))return e(r(t));var E="",v=a(t);if(v){var S=u(v),O=v[S];return E=e(r(O))+" "+S}var N=s(t);if(N){var d=o(N),h=N[d],T=l(t),A=t[T];if(T){E=p?"":h+" "+d+" ";var g=s(A);if(g){var x=o(g),L=g[x],I=A.ON.slice(0);E+=[T,L,x].join(" "),E+=" ON "+n(r)(I)}var y=l(A);y&&(p=!0,{}[y]=A[y],E+=" "+i(A,p))}else E=h+" "+d;return E}}}},{"../util/encloseWithParenthesis":67,"../util/isTableName":89,"./conditions":31,"./getJoinKeyword":34,"./getResultSetAlias":35,"./getResultSetWithAlias":36,"./getTableNameAlias":37,"./getTableNameWithAlias":38,"./isSelect":55}],61:[function(r,i,t){function n(r){var i="SELECT ";return r.DISTINCT&&(i+="DISTINCT "),i+=r.SELECT.map(function(r){return N(r,n)}).join(", "),s(r)&&(i+=" FROM "+r.FROM.map(O(n)).join(" ")),v(r)&&(i+=" WHERE "+e(n)(r.WHERE)),l(r)&&(i+=" GROUP BY "+r["GROUP BY"].map(o).join(", "),f(r)&&(i+=" HAVING "+e(n)(r.HAVING))),c(r)&&(i+=" ORDER BY "+r["ORDER BY"].map(S).join(", ")),u(r)&&(i+=" LIMIT "+r.LIMIT),a(r)&&(i+=" OFFSET "+r.OFFSET),p(r)&&(i+=" UNION "+n(r.UNION)),E(r)&&(i+=" UNION ALL "+n(r["UNION ALL"])),i}var e=r("./conditions"),o=r("./groupByCondition"),s=r("./hasFrom"),u=r("./hasLimit"),a=r("./hasOffset"),l=r("./hasGroupBy"),f=r("./hasHaving"),c=r("./hasOrderBy"),p=r("./hasUnion"),E=r("./hasUnionAll"),v=r("./hasWhere"),S=r("./orderByCondition"),O=r("./resultSet"),N=r("./selectField");i.exports=n},{"./conditions":31,"./groupByCondition":39,"./hasFrom":40,"./hasGroupBy":41,"./hasHaving":42,"./hasLimit":43,"./hasOffset":44,"./hasOrderBy":45,"./hasUnion":46,"./hasUnionAll":47,"./hasWhere":48,"./orderByCondition":59,"./resultSet":60,"./selectField":62}],62:[function(r,i,t){var n=r("../error"),e=r("./aliasExpression"),o=r("./avgExpression"),s=r("./countExpression"),u=r("../util/encloseWithParenthesis"),a=r("../util/isNumber"),l=r("../util/isObject"),f=r("./isSelect"),c=r("../util/isStar"),p=r("../util/isString"),E=r("./maxExpression"),v=r("./minExpression"),S=r("./nvlExpression"),O=r("./stringField"),N=r("./sumExpression");i.exports=function(r,i){if(f(r)){if("function"==typeof i)return u(i(r));throw n.functionRequired("select")}if(Array.isArray(r))return r.join(" ");if(c(r))return r;if(a(r))return r;if(p(r))return O(r);if(l(r)){if(r.AVG)return o(r);if(r.COUNT)return s(r);if(r.MAX)return E(r);if(r.MIN)return v(r);if(r.NVL)return S(r);if(r.SUM)return N(r);if(r.AS)return e(r,i)}throw n.couldNotParseSelectField(r)}},{"../error":5,"../util/encloseWithParenthesis":67,"../util/isNumber":78,"../util/isObject":80,"../util/isStar":84,"../util/isString":85,"./aliasExpression":29,"./avgExpression":30,"./countExpression":32,"./isSelect":55,"./maxExpression":56,"./minExpression":57,"./nvlExpression":58,"./stringField":63,"./sumExpression":64}],63:[function(r,i,t){var n=r("../util/isDataType"),e=r("../util/isFieldName"),o=r("../util/isSingleQuotedString"),s=r("../util/isStringNumber");i.exports=function(r){var i=r.split("::")[0],t=r.split("::")[1],u=s(i)||o(i)||e(i);if(t){if(u&&n(t))return r}else if(u)return r}},{"../util/isDataType":71,"../util/isFieldName":73,"../util/isSingleQuotedString":83,"../util/isStringNumber":86}],64:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.SUM;return e(t)&&(i="SUM("+t+")"),i+n(r)}},{"../util/isString":85,"./aliasExpression":29}],65:[function(r,i,t){function n(r){var i,t=0;if("number"==typeof r)return 1;if("string"==typeof r)return 1;if("object"==typeof r)if(Array.isArray(r))for(var e=0;e<r.length;e++)t+=n(r[e]);else{i=Object.keys(r);for(var o=0;o<i.length;o++)t+=n(r[i[o]])+1}return t}i.exports=n},{}],66:[function(r,i,t){var n=r("./isString"),e=r("./isStringWithSpace");i.exports=function(r){return e(r)?'"'+r+'"':n(r)?r:void 0}},{"./isString":85,"./isStringWithSpace":88}],67:[function(r,i,t){i.exports=function(r){return"("+r+")"}},{}],68:[function(r,i,t){var n=r("./isKeyword");i.exports=function(r){return n("JOIN")(r)||n("LEFT JOIN")(r)||n("RIGHT JOIN")(r)}},{"./isKeyword":74}],69:[function(r,i,t){var n=r("../error"),e=r("./isDataType");i.exports=function(r){var i=r.split("::")[1];if(i){if(e(i))return!0;throw n.invalidDataType(i)}return!1}},{"../error":5,"./isDataType":71}],70:[function(r,i,t){var n=r("../comparisonOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"../comparisonOperators.json":1}],71:[function(r,i,t){var n=r("../dataTypes.json");i.exports=function(r){var i=r.toUpperCase();return n.indexOf(i)>-1}},{"../dataTypes.json":2}],72:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/^"[^"]*"$/.test(r)}},{"./isString":85}],73:[function(r,i,t){var n=r("./isValidName"),e=r("./isString");i.exports=function(r){if(!e(r))return!1;var i=r.split("."),t=i[0],o=i[1],s=i[2];return!(0===i.length||i.length>3)&&(1===i.length?n(t):2===i.length?n(t)&&n(o):3===i.length?n(t)&&n(o)&&n(s):void 0)}},{"./isString":85,"./isValidName":90}],74:[function(r,i,t){var n=r("../functions.json"),e=r("../keywords.json"),o=r("../setOperators.json"),s=e.concat(n).concat(o);i.exports=function(r){return r?function(i){if(!i)return!1;var t=i.toUpperCase();return-1!==s.indexOf(t)&&r===t}:function(r){if(!r)return!1;var i=r.toUpperCase();return s.indexOf(i)>-1}}},{"../functions.json":14,"../keywords.json":15,"../setOperators.json":27}],75:[function(r,i,t){var n=r("../comparisonOperators.json"),e=r("../logicalOperators.json"),o=r("../mathOperators.json"),s=r("../setOperators.json"),u=r("../stringOperators.json"),a=r("../keywords.json");i.exports=function(r){if(n.indexOf(r)>-1)return!0;if(e.indexOf(r)>-1)return!0;if(o.indexOf(r)>-1)return!0;if(s.indexOf(r)>-1)return!0;if(u.indexOf(r)>-1)return!0;var i=r.toUpperCase();return a.indexOf(i)>-1}},{"../comparisonOperators.json":1,"../keywords.json":15,"../logicalOperators.json":16,"../mathOperators.json":17,"../setOperators.json":27,"../stringOperators.json":28}],76:[function(r,i,t){var n=r("../logicalOperators.json");i.exports=function(r){return function(i){var t=i.toUpperCase();return-1!==n.indexOf(t)&&r===t}}},{"../logicalOperators.json":16}],77:[function(r,i,t){var n=r("../mathOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"../mathOperators.json":17}],78:[function(r,i,t){i.exports=function(r){return"number"==typeof r}},{}],79:[function(r,i,t){var n=r("./isNumber"),e=r("./isString");i.exports=function(r){return n(r)||e(r)}},{"./isNumber":78,"./isString":85}],80:[function(r,i,t){i.exports=function(r){return"object"==typeof r}},{}],81:[function(r,i,t){var n=r("../partialKeywords.json");i.exports=function(r){var i=r.toUpperCase();return n.indexOf(i)>-1}},{"../partialKeywords.json":26}],82:[function(r,i,t){var n=r("../setOperators.json");i.exports=function(r){return function(i){if(i){var t=i.toUpperCase();return-1!==n.indexOf(t)&&r===t}}}},{"../setOperators.json":27}],83:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/^'[^']*'$/.test(r)}},{"./isString":85}],84:[function(r,i,t){i.exports=function(r){return"*"===r}},{}],85:[function(r,i,t){var n=r("./isStar");i.exports=function(r){return"string"==typeof r&&-1===["(",",",")"].indexOf(r)&&!n(r)}},{"./isStar":84}],86:[function(r,i,t){var n=r("./isCastedValue");i.exports=function(r){return!n(r)&&!isNaN(parseFloat(r))}},{"./isCastedValue":69}],87:[function(r,i,t){var n=r("../stringOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"../stringOperators.json":28}],88:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/\s/.test(r)}},{"./isString":85}],89:[function(r,i,t){var n=r("./isKeyword"),e=r("./isString"),o=r("./isValidName");i.exports=function(r){if(!e(r))return!1;if(n()(r))return!1;var i=r.split(".");return!(0===i.length||i.length>2)&&(1===i.length?o(i[0]):2===i.length?o(i[0])&&o(i[1]):void 0)}},{"./isKeyword":74,"./isString":85,"./isValidName":90}],90:[function(r,i,t){var n=r("./isString");i.exports=function(r){return!!n(r)&&/^[a-zA-Z_][a-zA-Z_0-9]*$/.test(r)}},{"./isString":85}],91:[function(r,i,t){i.exports=function(r){return"string"==typeof r?"'"+r+"'":r}},{}],92:[function(r,i,t){i.exports=function(r){return r.substring(1,r.length-1)}},{}],93:[function(r,i,t){var n=[">","<","!"],e=r("../comparisonOperators.json").concat(["(",")",",",";"]);i.exports=function(r){var i=[];return r.trim().split(" ").filter(function(r){return""!==r}).forEach(function(r){for(var t="",o=r.length,s=0;s<o;s++){var u,a=r[s],l=s===o-1,f=e.indexOf(a)>-1;if(n.indexOf(a)>-1&&!l){var c=a+(u=r[s+1]);e.indexOf(c)>-1&&(""!==t&&i.push(t),i.push(c),t="",s+=1)}f?(""!==t&&i.push(t),i.push(a),t=""):(t+=a,l&&i.push(t))}}),i}},{"../comparisonOperators.json":1}],94:[function(r,i,t){var n=r("./splitOnOperators"),e=r("./isPartialKeyword");i.exports=function(r){var i=[],t=!1,o="";r.trim().split("'").forEach(function(r,e,s){if(t){if(""===o?o=r:o+="'"+r,e===s.length-1)return void i.push("'"+o);if(""===s[e+1])return;i.push("'"+o+"'")}else{o="";var u="",a='"'===(r=r.trim())[0];r.split("").forEach(function(r,t,e){" "===r||"\n"===r||"\r"===r||"\t"===r?a?u+=" ":""!==u&&(i=i.concat(n(u)),u=""):'"'===r?a?(a=!1,i.push(u+'"'),u=""):(a=!0,u='"'):(u+=r,t===e.length-1&&(i=i.concat(n(u))))})}t=!t});for(var s=[],u=i.length,a=0;a<u;a++){var l,f,c=i[a];a<u-1&&(f=(l=i[a+1]).toUpperCase());var p,E;if(a<u-2&&(E=(p=i[a+2]).toUpperCase()),e(c)){var v=c.toUpperCase();"CREATE"===v&&["DATABASE","SCHEMA","SEQUENCE","TABLE","USER","VIEW"].indexOf(f)>-1&&(s.push(c+" "+l),a+=1),"GROUP"!==v&&"ORDER"!==v||"BY"===f&&(s.push(c+" "+l),a+=1),"LEFT"!==v&&"RIGHT"!==v||("OUTER"===f&&"JOIN"===E&&(s.push(c+" "+l+" "+p),a+=2),"JOIN"===f&&(s.push(c+" "+l),a+=1)),"INNER"!==v&&"CROSS"!==v||"JOIN"===f&&(s.push(c+" "+l),a+=1),"FULL"===v&&"OUTER"===f&&"JOIN"===E&&(s.push(c+" "+l+" "+p),a+=2),"UNION"===v&&("ALL"===f?(s.push(c+" "+l),a+=1):s.push(c)),"NOT"===v&&("LIKE"!==f&&"BETWEEN"!==f||(s.push(c+" "+l),a+=1))}else s.push(c)}return s}},{"./isPartialKeyword":81,"./splitOnOperators":93}],95:[function(r,i,t){var n=r("../error");i.exports=function(r,i){for(var t,e=r.length,o=[],s=!1,u=!1,a=0,l=i;l<e;l++)if("("===(t=r[l])&&a++,")"===t&&a--,"("===t&&1===a&&(s=!0),s&&(o.push(t),")"===t&&0===a)){u=!0;break}if(!u&&s)throw n.unclosedParenthesisExpression(r);return o}},{"../error":5}],"sql92-json":[function(r,i,t){i.exports=t.default={parse:r("./src/parse"),stringify:r("./src/stringify")}},{"./src/parse":22,"./src/stringify":49}]},{},[]);