// http://g14n.info/SQL92-JSON
require=function o(s,u,a){function l(i,r){if(!u[i]){if(!s[i]){var t="function"==typeof require&&require;if(!r&&t)return t(i,!0);if(f)return f(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var e=u[i]={exports:{}};s[i][0].call(e.exports,function(r){return l(s[i][1][r]||r)},e,e.exports,o,s,u,a)}return u[i].exports}for(var f="function"==typeof require&&require,r=0;r<a.length;r++)l(a[r]);return l}({1:[function(r,i,t){t.couldNotParseSelectField,t.functionRequired,t.invalidAlias,t.invalidDataType,t.invalidInterval,t.invalidJSONData,t.invalidSQL,t.invalidTableName,t.unclosedParenthesisExpression},{}],2:[function(r,i,t){var u=r("../error"),n=r("../util/isLogicalOperator"),a=r("../util/isKeywordOrOperator"),l=r("../util/isStringNumber"),f=n("AND");i.exports=function(r,i,t,n,e){var o=[],s={};if(e?s["NOT BETWEEN"]=[]:s.BETWEEN=[],!f(t))throw u.invalidSQL();if(a(i)||a(n))throw u.invalidInterval(i,n);return l(i)&&(i=parseFloat(i)),l(n)&&(n=parseFloat(n)),e?s["NOT BETWEEN"].push(i,n):s.BETWEEN.push(i,n),o.push(r),o.push(s),o}},{"../error":1,"../util/isKeywordOrOperator":67,"../util/isLogicalOperator":68,"../util/isStringNumber":78}],3:[function(r,i,t){var a=r("../util/extractMathExpression"),l=r("../util/isComparisonOperator"),f=r("../util/isMathOperator"),c=r("../util/isStringNumber");i.exports=function(r){for(var i,t,n,e,o,s={},u=0;u<r.length;u++)if(o=r[u],l(o)){t=o,n=u;break}return i=r[n-1],c(i)&&(i=parseFloat(i)),f(r[n+2])?e=(e=a(r.slice(n+1))).map(function(r){return c(r)?parseFloat(r):r}):(e=r[n+1],c(e)&&(e=parseFloat(e))),s[t]=e,[i,s]}},{"../util/extractMathExpression":59,"../util/isComparisonOperator":62,"../util/isMathOperator":69,"../util/isStringNumber":78}],4:[function(r,i,t){var R=r("../error"),I=r("./between"),y=r("./comparison"),C=r("../util/isAnyJoin"),m=r("../util/isComparisonOperator"),b=r("../util/isKeywordOrOperator"),n=r("../util/isKeyword"),e=r("../util/isLogicalOperator"),F=r("../util/isSingleQuotedString"),w=r("../util/isStringNumber"),D=r("./like"),U=r("../util/removeFirstAndLastChar"),B=e("AND"),M=e("OR"),j=n("BETWEEN"),P=n("IN"),W=n("LIKE"),K=n("NOT BETWEEN"),k=n("NOT LIKE"),Q=n("SELECT");i.exports=function r(i,t,n,e){for(var o,s,u,a,l,f,c,p,E,S=[],O=i.length,N=!1,h=null,T=null,v=null,d=t;d<O;d++){var A;if(a=i[d],u=i[d+1],o=i[d+2],C(a))break;if(B(a)&&(h={AND:[]}),M(a)&&(v={OR:[]}),!P(a)&&"("===u){N=!1,A=1;var g=[];for(p=d+2;p<O;p++)N||("("===(a=i[p])&&A++,")"===a&&A--,0===A?(N=!0,d=p+1):g.push(a));if(!N)throw R.unclosedParenthesisExpression(i);var x=r(g,0,n,e);h?(h.AND=x,S=S.concat(h),h=null):v?(v.OR=x,S=S.concat(v),v=null):S=S.concat(x)}if(j(u)||K(u))try{K(u)&&(E=!0),l=I(a,i[d+2],i[d+3],i[d+4],E),h?(h.AND=l,S=S.concat(h),h=null):v?(v.OR=l,S=S.concat(v),v=null):S=S.concat(l),d+=4}catch(r){throw r}if(W(u)||k(u))try{l=D(a,u,o),h?(h.AND=l,S=S.concat(h),h=null):v?(v.OR=l,S=S.concat(v),v=null):S=S.concat(l),d+=2}catch(r){throw r}if(m(u))try{l=y(i.slice(d)),h?(h.AND=h.AND.concat(l),S=S.concat(h),h=null):v?(v.OR=v.OR.concat(l),S=S.concat(v),v=null):S=S.concat(l),d+=1}catch(r){throw r}if(P(a)){if(f=i[d-1],N=!1,"("!==(u=i[d+1]))throw R.invalidSQL(e);if(!o)throw R.invalidSQL(e);if(Q(o)){T={};var L=[];for(p=d+2;p<O;p++)")"===(a=i[p])?(T.IN=n(L,e),S.push(f,T),N=!0,d=p):L.push(a);if(!N)throw R.invalidSQL(e);N=!1}else{if(T||(T={}),c=[],b(f))throw R.invalidSQL(e);if(w(f))throw R.invalidSQL(e);for(p=d+2;p<O;p+=2)if(s=i[p],","!==(u=i[p+1])&&")"!==u||(F(s)&&c.push(U(s)),w(s)&&c.push(parseFloat(s))),")"===u){d=p+1,N=!0;break}if(!N)throw R.invalidSQL(e);if(T[a]=c,h){h.AND.push(f,T),S.push(h),T=h=null;continue}if(v){v.OR.push(f,T),S.push(v),T=v=null;continue}S.push(f,T),T=null}}}return S}},{"../error":1,"../util/isAnyJoin":60,"../util/isComparisonOperator":62,"../util/isKeyword":66,"../util/isKeywordOrOperator":67,"../util/isLogicalOperator":68,"../util/isSingleQuotedString":75,"../util/isStringNumber":78,"../util/removeFirstAndLastChar":88,"./between":2,"./comparison":3,"./like":10}],5:[function(r,i,t){var a=r("../error"),n=r("../util/isKeyword"),l=r("../util/isTableName"),f=r("./select"),c=n("AS"),p=n("CREATE TABLE");i.exports=function(r,i){var t={},n=r[0],e=r[1];if(!p(n))throw a.invalidSQL(i);if(!l(e))throw a.invalidTableName(e);if(t.name=e,c(r[2]))t.AS=f(r.slice(3));else{t.fields=[];for(var o=2;o<r.length;o++){var s=r[o],u=r[o+1];"("!==s&&","!==s&&")"!==s&&(t.fields.push([s,u]),o++)}}return{"CREATE TABLE":t}}},{"../error":1,"../util/isKeyword":66,"../util/isTableName":81,"./select":11}],6:[function(r,i,t){var o=r("../error"),s=r("./condition"),u=r("./select"),n=r("../util/isKeyword"),a=r("../util/isTableName"),l=n("DELETE FROM");i.exports=function(r,i){var t=r[0],n=r[1],e={};if(!l(t))throw o.invalidSQL(i);if(!a(n))throw o.invalidTableName(n);return e["DELETE FROM"]=n,2<r.length&&(e.WHERE=s(r.splice(0),2,u,i)),e}},{"../error":1,"../util/isKeyword":66,"../util/isTableName":81,"./condition":4,"./select":11}],7:[function(r,i,t){var e=r("../error"),n=r("../util/isKeyword"),o=r("../util/isTableName"),s=n("DROP TABLE");i.exports=function(r,i){var t=r[0],n=r[1];if(!s(t))throw e.invalidSQL(i);if(!o(n))throw e.invalidTableName(n);return{"DROP TABLE":n}}},{"../error":1,"../util/isKeyword":66,"../util/isTableName":81}],8:[function(r,i,t){var e=r("../error"),n=r("../util/isKeyword"),o=r("../util/tokenize"),s=r("./createTable"),u=r("./deleteFrom"),a=r("./dropTable"),l=r("./select"),f=n("CREATE TABLE"),c=n("DELETE FROM"),p=n("DROP TABLE"),E=n("INSERT"),S=n("SELECT"),O=n("TRUNCATE"),N=n("UPDATE");i.exports=function(t){var r=o(t),n=r[0];return-1===r.indexOf(";")?function(r,i){if(!(f(n)||c(n)||p(n)||E(n)||S(n)||O(n)||N(n)))throw e.invalidSQL(t);return f(n)?s(i,t):c(n)?u(i,t):p(n)?a(i,t):S(n)?l(i,t):void 0}(0,r):[]}},{"../error":1,"../util/isKeyword":66,"../util/tokenize":92,"./createTable":5,"./deleteFrom":6,"./dropTable":7,"./select":11}],9:[function(r,i,t){var c=r("./condition"),p=r("../util/isAnyJoin"),E=r("../util/countTokens"),n=r("../util/isKeyword"),S=r("../util/isTableName"),O=n("ON");i.exports=function r(i,t,n,e){for(var o=i.length,s={},u=!1,a=t;a<o;a++){var l=i[a],f=i[a+1];if(p(l)){s[l]=r(i,a+1,n,e);break}if(u){if(O(l)){s.ON=c(i,a,n,e),a+=E(s.ON);continue}}else S(l)&&(u=!0,s[f]=l,a++)}return s}},{"../util/countTokens":55,"../util/isAnyJoin":60,"../util/isKeyword":66,"../util/isTableName":81,"./condition":4}],10:[function(r,i,t){i.exports=function(r,i,t){var n={};return n[i]=t,[r,n]}},{}],11:[function(r,i,t){var G=r("../error"),H=r("../util/countTokens"),J=r("../util/isAnyJoin"),Y=r("../util/isDoubleQuotedString"),X=r("../util/isKeyword"),q=r("../util/isMathOperator"),z=r("../util/isSetOperator"),_=r("../util/isStar"),$=r("../util/isString"),Z=r("../util/isStringNumber"),rr=r("../util/isStringOperator"),ir=r("../util/isTableName"),tr=r("../util/removeFirstAndLastChar"),nr=r("../util/tokensEnclosedByParenthesis"),er=X("AS"),or=X("ASC"),sr=X("AVG"),ur=X("COUNT"),ar=X("DESC"),lr=X("DISTINCT"),fr=X("FROM"),cr=X("GROUP BY"),pr=X("HAVING"),Er=X("LIMIT"),Sr=X("LOWER"),Or=X("MAX"),Nr=X("MIN"),hr=X("NVL"),Tr=X("OFFSET"),vr=X("ORDER BY"),dr=X("SELECT"),Ar=X("SUM"),gr=X("UPPER"),xr=X("WHERE"),Lr=r("./condition"),Rr=r("./join");i.exports=function r(i,t){var n,e,o,s,u,a,l,f,c,p,E,S,O,N,h,T,v,d,A,g,x,L,R,I,y,C,m,b,F={SELECT:[]},w=i[0],D=i.length,U=!1,B=!1,M=!1,j=!1,P=!1,W=!1,K=!1,k=!1;if(!dr(w))throw G.invalidSQL(t);for(g=1;g<D;g++){if(A=i[g],h=i[g+1],N=i[g+2],fr(A)){U=!0,x=g;break}if(z(A)){K=!0,O=A,m=g;break}if(","!==A)if(lr(A))F.DISTINCT=!0;else if(er(h)){if(n={AS:{}},!$(N))throw G.invalidSQL(t);Y(N)&&(N=tr(N)),Z(A)&&(A=parseFloat(A)),n.AS[N]=A,F.SELECT.push(n),g+=2}else q(h)?(F.SELECT.push([parseFloat(A),h,parseFloat(N)]),g+=2):Z(A)?F.SELECT.push(parseFloat(A)):sr(A)?(e={},nr(i,g+1).forEach(function(r){g++,-1<["(",",",")"].indexOf(r)||(Z(r)?e.AVG=parseFloat(r):e.AVG=r)}),h=i[g+1],N=i[g+2],er(h)&&(Y(N)&&(N=tr(N)),e.AS=N,g+=2),F.SELECT.push(e)):ur(A)?(o={},nr(i,g+1).forEach(function(r){g++,-1<["(",",",")"].indexOf(r)||(lr(r)?o.DISTINCT=!0:Z(r)?o.COUNT=parseFloat(r):o.COUNT=r)}),h=i[g+1],N=i[g+2],er(h)&&(Y(N)&&(N=tr(N)),o.AS=N,g+=2),F.SELECT.push(o)):Sr(A)?(u={},nr(i,g+1).forEach(function(r){g++,-1<["(",",",")"].indexOf(r)||(Z(r)?u.LOWER=parseFloat(r):u.LOWER=r)}),h=i[g+1],N=i[g+2],er(h)&&(Y(N)&&(N=tr(N)),u.AS=N,g+=2),F.SELECT.push(u)):Or(A)?(a={},nr(i,g+1).forEach(function(r){g++,-1<["(",",",")"].indexOf(r)||(Z(r)?a.MAX=parseFloat(r):a.MAX=r)}),h=i[g+1],N=i[g+2],er(h)&&(Y(N)&&(N=tr(N)),a.AS=N,g+=2),F.SELECT.push(a)):Nr(A)?(l={},nr(i,g+1).forEach(function(r){g++,-1<["(",",",")"].indexOf(r)||(Z(r)?l.MIN=parseFloat(r):l.MIN=r)}),h=i[g+1],N=i[g+2],er(h)&&(Y(N)&&(N=tr(N)),l.AS=N,g+=2),F.SELECT.push(l)):hr(A)?(f={NVL:[]},nr(i,g+1).forEach(function(r){g++,-1<["(",",",")"].indexOf(r)||(Z(r)?f.NVL.push(parseFloat(r)):f.NVL.push(r))}),h=i[g+1],N=i[g+2],er(h)&&(Y(N)&&(N=tr(N)),f.AS=N,g+=2),F.SELECT.push(f)):Ar(A)?(p={},nr(i,g+1).forEach(function(r){g++,-1<["(",",",")"].indexOf(r)||(Z(r)?p.SUM=parseFloat(r):p.SUM=r)}),h=i[g+1],N=i[g+2],er(h)&&(Y(N)&&(N=tr(N)),p.AS=N,g+=2),F.SELECT.push(p)):gr(A)?(E={},nr(i,g+1).forEach(function(r){g++,-1<["(",",",")"].indexOf(r)||(Z(r)?E.UPPER=parseFloat(r):E.UPPER=r)}),h=i[g+1],N=i[g+2],er(h)&&(Y(N)&&(N=tr(N)),E.AS=N,g+=2),F.SELECT.push(E)):$(A)?rr(h)?(F.SELECT.push([A,h,N]),g+=2):F.SELECT.push(A):(_(A)&&F.SELECT.push(A),"("===A&&dr(h)&&(c={},d=nr(i,g),h=i[g+=d.length],N=i[g+1],d.shift(),d.pop(),er(h)?(Y(N)&&(N=tr(N)),c.AS={},c.AS[N]=r(d,t),F.SELECT.push(c),g+=1):F.SELECT.push(r(d,t))))}if(U){for(F.FROM=[],g=x+1;g<D;g++){if(A=i[g],h=g<D-1?i[g+1]:null,xr(A)&&(k=!0,b=g),cr(A)&&(M=!0,L=g),pr(A)&&(j=!0,R=g),vr(A)&&(W=!0,C=g),z(A)){K=!0,O=A,m=g;break}if(!(k||M||j||W)&&","!==A){if("("===A){if(c={},(d=nr(i,g)).shift(),d.pop(),h=i[(g=g+d.length+1)+1],N=i[g+2],T=!X()(h),v=$(h)&&T,!dr(d[0]))throw G.invalidSQL(t);if(!v){F.FROM.push(r(d,t));continue}if(!J(N)){c[h]=r(d,t),F.FROM.push(c),g+=2;continue}}if(ir(A)){if(S=A,h=i[g+1],N=i[g+2],T=!X()(h),v=$(h)&&T){if((S={})[h]=A,J(N)){S[s=N]=Rr(i,g+3,r,t),F.FROM.push(S),g+=H(S[s])+2;continue}F.FROM.push(S),g+=1;continue}F.FROM.push(S)}}}if(k){if(b===D-3)throw G.invalidSQL(t);F.WHERE=Lr(i,b,r,t)}if(M)for(F["GROUP BY"]=[],g=L+1;g<D;g++)if(","!==(A=i[g])){if(X()(A))break;Z(A)&&(A=parseFloat(A)),F["GROUP BY"].push(A)}if(j){if(R===D-3)throw G.invalidSQL(t);F.HAVING=Lr(i,R,r,t)}if(W)for(F["ORDER BY"]=[],g=C+1;g<D;g++)if(A=i[g],h=i[g+1],","!==A){if(X()(A))break;Z(A)&&(A=parseFloat(A)),ar(h)?(F["ORDER BY"].push({DESC:A}),g++):or(h)?(F["ORDER BY"].push({ASC:A}),g++):F["ORDER BY"].push(A)}for(g=x;g<D;g++)B||(A=i[g],Er(A)&&(B=!0,I=g));if(B){if(I===D-1)throw G.invalidSQL(t);var Q=i[I+1];if(!Z(Q))throw G.invalidSQL(t);if(!(0<=(Q=parseFloat(Q))))throw G.invalidSQL(t);F.LIMIT=Q}for(g=x;g<D;g++)P||(A=i[g],Tr(A)&&(P=!0,y=g));if(P){if(y===D-1)throw G.invalidSQL(t);var V=i[y+1];if(!Z(V))throw G.invalidSQL(t);if(!(0<=(V=parseFloat(V))))throw G.invalidSQL(t);F.OFFSET=V}}return K&&(F[O]=r(i.splice(m+1),t)),F}},{"../error":1,"../util/countTokens":55,"../util/isAnyJoin":60,"../util/isDoubleQuotedString":64,"../util/isKeyword":66,"../util/isMathOperator":69,"../util/isSetOperator":74,"../util/isStar":76,"../util/isString":77,"../util/isStringNumber":78,"../util/isStringOperator":79,"../util/isTableName":81,"../util/removeFirstAndLastChar":88,"../util/tokensEnclosedByParenthesis":93,"./condition":4,"./join":9}],12:[function(r,i,t){var s=r("../error"),u=r("../util/doubleQuoteIfStringContainsSpace"),a=r("../util/encloseWithParenthesis"),l=r("../util/isNumber"),f=r("../util/isObject"),c=r("./isSelect"),p=r("../util/isString"),E=r("./stringField");i.exports=function(r,i){var t,n,e="",o=r.AS;if(p(o)&&(e+=" AS "+u(o)),f(o)){if(1<(t=Object.keys(o)).length)throw s.invalidAlias(r);if(n=o[t=t[0]],l(n)&&(e=n),p(n)&&(e=E(n)),c(n)){if("function"!=typeof i)throw s.functionRequired("select");e=a(i(n))}e+=" AS "+u(t)}return e}},{"../error":1,"../util/doubleQuoteIfStringContainsSpace":57,"../util/encloseWithParenthesis":58,"../util/isNumber":70,"../util/isObject":72,"../util/isString":77,"./isSelect":43,"./stringField":51}],13:[function(r,i,t){var n=r("../error"),e=r("./aliasExpression"),o=r("../util/isString");i.exports=function(r){var i=r.AVG;if(o(i))return"AVG("+i+")"+e(r);throw n.couldNotParseSelectField(i)}},{"../error":1,"../util/isString":77,"./aliasExpression":12}],14:[function(r,i,t){var u=r("./filter");i.exports=function(s){return function(r){for(var i=r.shift(),t=r.shift(),n=u(s),e=i+" "+n(t),o=0;o<r.length;o++)e+=" "+n(r[o]);return e}}},{"./filter":19}],15:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isStar"),o=r("../util/isString");i.exports=function(r){var i="",t=r.COUNT;return e(t)&&(i="COUNT(*)"),1===t&&(i="COUNT(1)"),o(t)&&(i=r.DISTINCT?"COUNT(DISTINCT "+t+")":"COUNT("+t+")"),i+n(r)}},{"../util/isStar":76,"../util/isString":77,"./aliasExpression":12}],16:[function(r,i,t){i.exports=function(r,i){var t=r["CREATE TABLE"],n="CREATE TABLE "+t.name,e=t.fields;return e&&(n+=" (",e.forEach(function(r,i,t){n+=r[0]+" "+r[1],i===t.length-1?n+=")":n+=", "})),t.AS&&(n+=" AS "+i(t.AS)),n}},{}],17:[function(r,i,t){var n=r("./conditions"),e=r("./hasWhere"),o=r("./select");i.exports=function(r){var i="DELETE FROM "+r["DELETE FROM"];return r.WHERE&&e(r)&&(i+=" WHERE "+n(o)(r.WHERE)),i}},{"./conditions":14,"./hasWhere":34,"./select":49}],18:[function(r,i,t){i.exports=function(r){return"DROP TABLE "+r["DROP TABLE"]}},{}],19:[function(r,i,t){var O=r("../error"),N=r("../util/encloseWithParenthesis"),h=r("./isBetween"),T=r("./isLike"),v=r("./isNotLike"),d=r("./isNotBetween"),A=r("./isSelect"),g=r("../util/quoteIfString"),x=Array.isArray,L=r("../util/comparisonOperators.json");i.exports=function(S){return function r(i){var t;for(t=0;t<L.length;t++){var n=L[t],e=i[n];if(x(e))return n+" "+e.join(" ");if(void 0!==e)return n+" "+e}var o=i.IN;if(o){if(x(o))return"IN "+N(i.IN.map(g).join(", "));if(A(o)){if("function"==typeof S)return"IN "+N(S(o));throw O.functionRequired("select")}}var s=i.AND;if(x(s)){var u=s[0]+" "+r(s[1]);for(t=2;t<s.length;t++)u+=" "+r(s[t]);return 2===s.length?"AND "+u:"AND "+N(u)}var a=i.BETWEEN;if(h(i))return"BETWEEN "+a.join(" AND ");var l=i["NOT BETWEEN"];if(d(i))return"NOT BETWEEN "+l.join(" AND ");var f=i.LIKE;if(T(i))return"LIKE "+f;var c=i["NOT LIKE"];if(v(i))return"NOT LIKE "+c;var p=i.OR;if(x(p)){var E=p[0]+" "+r(p[1]);for(t=2;t<p.length;t++)E+=" "+r(p[t]);return 2===p.length?"OR "+E:"OR "+N(E)}}}},{"../error":1,"../util/comparisonOperators.json":54,"../util/encloseWithParenthesis":58,"../util/quoteIfString":87,"./isBetween":36,"./isLike":40,"./isNotBetween":41,"./isNotLike":42,"./isSelect":43}],20:[function(r,i,t){var e=r("../util/isAnyJoin");i.exports=function(r){for(var i=Object.keys(r),t=0;t<i.length;t++){var n=i[t];if(e(n))return n}}},{"../util/isAnyJoin":60}],21:[function(r,i,t){var o=r("../util/isKeyword"),s=r("./isSelect");i.exports=function(r){for(var i,t=Object.keys(r),n=0;n<t.length;n++){var e=t[n];if(!o()(e))return i=r[e],s(i)?e:void 0}}},{"../util/isKeyword":66,"./isSelect":43}],22:[function(r,i,t){var u=r("./getResultSetAlias"),a=r("../util/isKeyword")("AS");i.exports=function(r){var i,t,n=Object.keys(r),e=u(r);if(e)i={},t=r[e],i[e]=t;else for(var o=0;o<n.length;o++){var s=n[o];if(a(s)){if(e=u(r[s])){i={AS:r[s]};break}return}}return i}},{"../util/isKeyword":66,"./getResultSetAlias":21}],23:[function(r,i,t){var o=r("../util/isKeyword"),s=r("../util/isTableName");i.exports=function(r){for(var i,t=Object.keys(r),n=0;n<t.length;n++){var e=t[n];if(!o()(e))return i=r[e],s(i)?e:void 0}}},{"../util/isKeyword":66,"../util/isTableName":81}],24:[function(r,i,t){var u=r("./getTableNameAlias"),a=r("../util/isKeyword")("AS");i.exports=function(r){var i,t,n=Object.keys(r),e=u(r);if(e)i={},t=r[e],i[e]=t;else for(var o=0;o<n.length;o++){var s=n[o];if(a(s)){if(e=u(r[s])){i={AS:r[s]};break}return}}return i}},{"../util/isKeyword":66,"./getTableNameAlias":23}],25:[function(r,i,t){var n=r("../util/isString");i.exports=function(r){if(n(r))return r}},{"../util/isString":77}],26:[function(r,i,t){var n=r("../error");i.exports=function(r){var i=r.FROM;if(i){if(Array.isArray(i)&&0<i.length)return!0;throw n.invalidJSONData({FROM:i})}return!1}},{"../error":1}],27:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r["GROUP BY"];return Array.isArray(i)&&0<i.length&&i.filter(n).length===i.length}},{"../util/isNumberOrString":71}],28:[function(r,i,t){i.exports=function(r){return Array.isArray(r.HAVING)&&1<r.HAVING.length}},{}],29:[function(r,i,t){i.exports=function(r){var i=r.LIMIT;return"number"==typeof i&&0<i}},{}],30:[function(r,i,t){i.exports=function(r){var i=r.OFFSET;return"number"==typeof i&&0<i}},{}],31:[function(r,i,t){var n=r("../util/isNumberOrString"),e=r("../util/isObject");i.exports=function(r){var i=r["ORDER BY"];return!!i&&!!(Array.isArray(i)&&0<i.length)&&i.filter(function(r){if(n(r))return!0;if(e(r)){if(n(r.DESC))return!0;if(n(r.ASC))return!0}return!1}).length===i.length}},{"../util/isNumberOrString":71,"../util/isObject":72}],32:[function(r,i,t){var n=r("./isSelect");i.exports=function(r){var i=r.UNION;return i&&n(i)}},{"./isSelect":43}],33:[function(r,i,t){var n=r("./isSelect");i.exports=function(r){var i=r["UNION ALL"];return i&&n(i)}},{"./isSelect":43}],34:[function(r,i,t){i.exports=function(r){return Array.isArray(r.WHERE)&&1<r.WHERE.length}},{}],35:[function(r,i,t){var n=r("./isCreateTable"),e=r("./isDeleteFrom"),o=r("./isDropTable"),s=r("./isSelect"),u=r("./createTable"),a=r("./deleteFrom"),l=r("./dropTable"),f=r("./select");i.exports=function r(i){var t="";return e(i)?a(i):o(i)?l(i):(n(i,r)&&(t=u(i,r)),s(i)&&(""!==t&&(t+=" "),t+=f(i,t)),t)}},{"./createTable":16,"./deleteFrom":17,"./dropTable":18,"./isCreateTable":37,"./isDeleteFrom":38,"./isDropTable":39,"./isSelect":43,"./select":49}],36:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r.BETWEEN;return Array.isArray(i)&&2===i.length&&n(i[0])&&n(i[1])}},{"../util/isNumberOrString":71}],37:[function(r,i,t){var o=r("../util/isDataType"),s=r("../util/isTableName"),u=r("./isSelect"),a=r("../util/isValidName");i.exports=function(r){var i=r["CREATE TABLE"];if(!i)return!1;if(!s(i.name))return!1;if(Array.isArray(i.fields)){var t=i.fields.length;if(0===t)return!1;for(var n=0;n<t;n++){var e=i.fields[n];if(!a(e[0]))return!1;if(!o(e[1]))return!1}return!0}return!!u(i.AS)}},{"../util/isDataType":63,"../util/isTableName":81,"../util/isValidName":82,"./isSelect":43}],38:[function(r,i,t){var n=r("../util/isTableName");i.exports=function(r){var i=r["DELETE FROM"];return!!i&&n(i)}},{"../util/isTableName":81}],39:[function(r,i,t){var n=r("../util/isTableName");i.exports=function(r){var i=r["DROP TABLE"];return!!i&&n(i)}},{"../util/isTableName":81}],40:[function(r,i,t){var n=r("../util/isSingleQuotedString");i.exports=function(r){var i=r.LIKE;return n(i)}},{"../util/isSingleQuotedString":75}],41:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r["NOT BETWEEN"];return Array.isArray(i)&&2===i.length&&n(i[0])&&n(i[1])}},{"../util/isNumberOrString":71}],42:[function(r,i,t){var n=r("../util/isSingleQuotedString");i.exports=function(r){var i=r["NOT LIKE"];return n(i)}},{"../util/isSingleQuotedString":75}],43:[function(r,i,t){i.exports=function(r){var i=r.SELECT;return Array.isArray(i)&&0<i.length}},{}],44:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.MAX;return e(t)&&(i="MAX("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":12}],45:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.MIN;return e(t)&&(i="MIN("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":12}],46:[function(r,i,t){var n=r("./aliasExpression");i.exports=function(r){var i=r.NVL;return"NVL("+i[0]+", "+i[1]+")"+n(r)}},{"./aliasExpression":12}],47:[function(r,i,t){var n=r("../util/isNumberOrString"),e=r("../util/isObject");i.exports=function(r){if(n(r))return r;if(e(r)){if(n(r.DESC))return r.DESC+" DESC";if(n(r.ASC))return r.ASC+" ASC"}}},{"../util/isNumberOrString":71,"../util/isObject":72}],48:[function(r,i,t){var T=r("./conditions"),v=r("../util/encloseWithParenthesis"),d=r("./getTableNameAlias"),A=r("./getTableNameWithAlias"),g=r("./getResultSetAlias"),x=r("./getResultSetWithAlias"),L=r("./getJoinKeyword"),R=r("../util/isTableName"),I=r("./isSelect");i.exports=function(h){return function r(i,t){if(R(i))return i;if(I(i))return v(h(i));var n="",e=x(i);if(e){var o=g(e),s=e[o];return n=v(h(s))+" "+o}var u=A(i);if(u){var a=d(u),l=u[a],f=L(i),c=i[f];if(f){n=t?"":l+" "+a+" ";var p=A(c);if(p){var E=d(p),S=p[E],O=c.ON.slice(0);n+=[f,S,E].join(" "),n+=" ON "+T(h)(O)}var N=L(c);N&&(t=!0,c[N],n+=" "+r(c,t))}else n=l+" "+a;return n}}}},{"../util/encloseWithParenthesis":58,"../util/isTableName":81,"./conditions":14,"./getJoinKeyword":20,"./getResultSetAlias":21,"./getResultSetWithAlias":22,"./getTableNameAlias":23,"./getTableNameWithAlias":24,"./isSelect":43}],49:[function(r,i,t){var n=r("./conditions"),e=r("./groupByCondition"),o=r("./hasFrom"),s=r("./hasLimit"),u=r("./hasOffset"),a=r("./hasGroupBy"),l=r("./hasHaving"),f=r("./hasOrderBy"),c=r("./hasUnion"),p=r("./hasUnionAll"),E=r("./hasWhere"),S=r("./orderByCondition"),O=r("./resultSet"),N=r("./selectField");i.exports=function i(r){var t="SELECT ";return r.DISTINCT&&(t+="DISTINCT "),t+=r.SELECT.map(function(r){return N(r,i)}).join(", "),o(r)&&(t+=" FROM "+r.FROM.map(O(i)).join(" ")),E(r)&&(t+=" WHERE "+n(i)(r.WHERE)),a(r)&&(t+=" GROUP BY "+r["GROUP BY"].map(e).join(", "),l(r)&&(t+=" HAVING "+n(i)(r.HAVING))),f(r)&&(t+=" ORDER BY "+r["ORDER BY"].map(S).join(", ")),s(r)&&(t+=" LIMIT "+r.LIMIT),u(r)&&(t+=" OFFSET "+r.OFFSET),c(r)&&(t+=" UNION "+i(r.UNION)),p(r)&&(t+=" UNION ALL "+i(r["UNION ALL"])),t}},{"./conditions":14,"./groupByCondition":25,"./hasFrom":26,"./hasGroupBy":27,"./hasHaving":28,"./hasLimit":29,"./hasOffset":30,"./hasOrderBy":31,"./hasUnion":32,"./hasUnionAll":33,"./hasWhere":34,"./orderByCondition":47,"./resultSet":48,"./selectField":50}],50:[function(r,i,t){var n=r("../error"),e=r("./aliasExpression"),o=r("./avgExpression"),s=r("./countExpression"),u=r("../util/encloseWithParenthesis"),a=r("../util/isNumber"),l=r("../util/isObject"),f=r("./isSelect"),c=r("../util/isStar"),p=r("../util/isString"),E=r("./maxExpression"),S=r("./minExpression"),O=r("./nvlExpression"),N=r("./stringField"),h=r("./sumExpression"),T=r("./unaryFunction"),v=T("LOWER"),d=T("UPPER");i.exports=function(r,i){if(f(r)){if("function"==typeof i)return u(i(r));throw n.functionRequired("select")}if(Array.isArray(r))return r.join(" ");if(c(r))return r;if(a(r))return r;if(p(r))return N(r);if(l(r)){if(r.AVG)return o(r);if(r.COUNT)return s(r);if(r.LOWER)return v(r);if(r.MAX)return E(r);if(r.MIN)return S(r);if(r.NVL)return O(r);if(r.SUM)return h(r);if(r.UPPER)return d(r);if(r.AS)return e(r,i)}throw n.couldNotParseSelectField(r)}},{"../error":1,"../util/encloseWithParenthesis":58,"../util/isNumber":70,"../util/isObject":72,"../util/isStar":76,"../util/isString":77,"./aliasExpression":12,"./avgExpression":13,"./countExpression":15,"./isSelect":43,"./maxExpression":44,"./minExpression":45,"./nvlExpression":46,"./stringField":51,"./sumExpression":52,"./unaryFunction":53}],51:[function(r,i,t){var e=r("../util/isDataType"),o=r("../util/isFieldName"),s=r("../util/isSingleQuotedString"),u=r("../util/isStringNumber");i.exports=function(r){var i=r.split("::")[0],t=r.split("::")[1],n=u(i)||s(i)||o(i);if(t){if(n&&e(t))return r}else if(n)return r}},{"../util/isDataType":63,"../util/isFieldName":65,"../util/isSingleQuotedString":75,"../util/isStringNumber":78}],52:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.SUM;return e(t)&&(i="SUM("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":12}],53:[function(r,i,t){var e=r("./aliasExpression"),o=r("../util/isString"),s=r("./stringField");i.exports=function(n){return function(r){var i="",t=r[n];return o(t)&&(i=n+"("+s(t)+")"),i+e(r)}}},{"../util/isString":77,"./aliasExpression":12,"./stringField":51}],54:[function(r,i,t){i.exports=["=",">","<","<>","<=",">=","!="]},{}],55:[function(r,i,t){i.exports=function r(i){var t,n=0;if("number"==typeof i)return 1;if("string"==typeof i)return 1;if("object"==typeof i)if(Array.isArray(i))for(var e=0;e<i.length;e++)n+=r(i[e]);else{t=Object.keys(i);for(var o=0;o<t.length;o++)n+=r(i[t[o]])+1}return n}},{}],56:[function(r,i,t){i.exports=["BOOLEAN","CHARACTER","CHARACTER VARYING","DATE","DECIMAL","FLOAT","INTEGER","INTERVAL","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARCHAR"]},{}],57:[function(r,i,t){var n=r("./isString"),e=r("./isStringWithSpace");i.exports=function(r){return e(r)?'"'+r+'"':n(r)?r:void 0}},{"./isString":77,"./isStringWithSpace":80}],58:[function(r,i,t){i.exports=function(r){return"("+r+")"}},{}],59:[function(r,i,t){var s=r("./isMathOperator");i.exports=function(r){for(var i,t,n,e=[],o=0;o<r.length-1;o++)if(t=r[o],n=r[o+1],s(n))e.push(t,n),o+=1,i=!0;else if(i)return e.push(t),i=!1,e;return e}},{"./isMathOperator":69}],60:[function(r,i,t){var n=r("./isKeyword");i.exports=function(r){return n("JOIN")(r)||n("LEFT JOIN")(r)||n("RIGHT JOIN")(r)}},{"./isKeyword":66}],61:[function(r,i,t){var n=r("../error"),e=r("./isDataType");i.exports=function(r){var i=r.split("::")[1];if(i){if(e(i))return!0;throw n.invalidDataType(i)}return!1}},{"../error":1,"./isDataType":63}],62:[function(r,i,t){var n=r("./comparisonOperators.json");i.exports=function(r){return-1<n.indexOf(r)}},{"./comparisonOperators.json":54}],63:[function(r,i,t){var n=r("./dataTypes.json");i.exports=function(r){var i=r.toUpperCase();return-1<n.indexOf(i)}},{"./dataTypes.json":56}],64:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/^"[^"]*"$/.test(r)}},{"./isString":77}],65:[function(r,i,t){var o=r("./isValidName"),s=r("./isString");i.exports=function(r){if(!s(r))return!1;var i=r.split("."),t=i[0],n=i[1],e=i[2];return!(0===i.length||3<i.length)&&(1===i.length?o(t):2===i.length?o(t)&&o(n):3===i.length?o(t)&&o(n)&&o(e):void 0)}},{"./isString":77,"./isValidName":82}],66:[function(r,i,t){var n=r("./keywords.json");i.exports=function(t){return t?function(r){if(!r)return!1;var i=r.toUpperCase();return-1!==n.indexOf(i)&&t===i}:function(r){if(!r)return!1;var i=r.toUpperCase();return-1<n.indexOf(i)}}},{"./keywords.json":83}],67:[function(r,i,t){var n=r("./comparisonOperators.json"),e=r("./logicalOperators.json"),o=r("./mathOperators.json"),s=r("./setOperators.json"),u=r("./stringOperators.json"),a=r("./keywords.json");i.exports=function(r){if(-1<n.indexOf(r))return!0;if(-1<e.indexOf(r))return!0;if(-1<o.indexOf(r))return!0;if(-1<s.indexOf(r))return!0;if(-1<u.indexOf(r))return!0;var i=r.toUpperCase();return-1<a.indexOf(i)}},{"./comparisonOperators.json":54,"./keywords.json":83,"./logicalOperators.json":84,"./mathOperators.json":85,"./setOperators.json":89,"./stringOperators.json":91}],68:[function(r,i,t){var n=r("./logicalOperators.json");i.exports=function(t){return function(r){var i=r.toUpperCase();return-1!==n.indexOf(i)&&t===i}}},{"./logicalOperators.json":84}],69:[function(r,i,t){var n=r("./mathOperators.json");i.exports=function(r){return-1<n.indexOf(r)}},{"./mathOperators.json":85}],70:[function(r,i,t){i.exports=function(r){return"number"==typeof r}},{}],71:[function(r,i,t){var n=r("./isNumber"),e=r("./isString");i.exports=function(r){return n(r)||e(r)}},{"./isNumber":70,"./isString":77}],72:[function(r,i,t){i.exports=function(r){return"object"==typeof r}},{}],73:[function(r,i,t){var n=r("./partialKeywords.json");i.exports=function(r){var i=r.toUpperCase();return-1<n.indexOf(i)}},{"./partialKeywords.json":86}],74:[function(r,i,t){var n=r("./isKeyword"),e=n("EXCEPT"),o=n("INTERSECT"),s=n("UNION"),u=n("UNION ALL");i.exports=function(r){return e(r)||o(r)||s(r)||u(r)}},{"./isKeyword":66}],75:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/^'[^']*'$/.test(r)}},{"./isString":77}],76:[function(r,i,t){i.exports=function(r){return"*"===r}},{}],77:[function(r,i,t){var n=r("./isStar");i.exports=function(r){return"string"==typeof r&&-1===["(",",",")"].indexOf(r)&&!n(r)}},{"./isStar":76}],78:[function(r,i,t){var n=r("./isCastedValue");i.exports=function(r){return!n(r)&&!isNaN(parseFloat(r))}},{"./isCastedValue":61}],79:[function(r,i,t){var n=r("./stringOperators.json");i.exports=function(r){return-1<n.indexOf(r)}},{"./stringOperators.json":91}],80:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/\s/.test(r)}},{"./isString":77}],81:[function(r,i,t){var n=r("./isKeyword"),e=r("./isString"),o=r("./isValidName");i.exports=function(r){if(!e(r))return!1;if(n()(r))return!1;var i=r.split(".");return!(0===i.length||2<i.length)&&(1===i.length?o(i[0]):2===i.length?o(i[0])&&o(i[1]):void 0)}},{"./isKeyword":66,"./isString":77,"./isValidName":82}],82:[function(r,i,t){var n=r("./isString");i.exports=function(r){return!!n(r)&&/^[a-zA-Z_][a-zA-Z_0-9]*$/.test(r)}},{"./isString":77}],83:[function(r,i,t){i.exports=["AS","ASC","AVG","BETWEEN","CASE","COALESCE","COUNT","CREATE DATABASE","CREATE SCHEMA","CREATE SEQUENCE","CREATE TABLE","CREATE USER","CREATE VIEW","DATABASE","DELETE FROM","DESC","DISTINCT","DROP","DROP TABLE","END","EXCEPT","EXISTS","EXPLAIN","FALSE","FROM","FULL OUTER JOIN","GRANT","GROUP BY","JOIN","HAVING","IN","INNER JOIN","INSERT","INTERSECT","IS","IS FALSE","IS NOT FALSE","IS NOT NULL","IS NOT TRUE","IS NULL","IS TRUE","LIMIT","LIKE","LEFT JOIN","LEFT OUTER JOIN","LOWER","MAX","MIN","ORDER BY","OUTER JOIN","NOT BETWEEN","NOT EXISTS","NOT LIKE","NULL","NVL","OFFSET","ON","RIGHT JOIN","SELECT","SET","SUM","TABLE","TRUE","UNION","UNION ALL","UPDATE","UPPER","USER","VALUES","VIEW","WHERE","WITH"]},{}],84:[function(r,i,t){i.exports=["AND","OR"]},{}],85:[function(r,i,t){i.exports=["+","-","*","/","%"]},{}],86:[function(r,i,t){i.exports=["CREATE","CROSS","DELETE","DROP","FULL","GROUP","INNER","IS","LEFT","NOT","ORDER","RIGHT","UNION"]},{}],87:[function(r,i,t){i.exports=function(r){return"string"==typeof r?"'"+r+"'":r}},{}],88:[function(r,i,t){i.exports=function(r){return r.substring(1,r.length-1)}},{}],89:[function(r,i,t){i.exports=["EXCEPT","INTERSECT","UNION","UNION ALL"]},{}],90:[function(r,i,t){var n=r("./comparisonOperators.json"),l=[">","<","!"],f=n.concat(["(",")",",",";"]);i.exports=function(r){var a=[];return r.trim().split(" ").filter(function(r){return""!==r}).forEach(function(r){for(var i="",t=r.length,n=0;n<t;n++){var e=r[n],o=n===t-1,s=-1<f.indexOf(e);if(-1<l.indexOf(e)&&!o){var u=e+r[n+1];if(-1<f.indexOf(u)){""!==i&&a.push(i),a.push(u),i="",n+=1;continue}}s?(""!==i&&a.push(i),a.push(e),i=""):(i+=e,o&&a.push(i))}}),a}},{"./comparisonOperators.json":54}],91:[function(r,i,t){i.exports=["||"]},{}],92:[function(r,i,t){var E=r("./splitOnOperators"),S=r("./isPartialKeyword"),O=r("../util/isKeyword")("IN");i.exports=function(r){var o=[],s=!1,u="";r.trim().split("'").forEach(function(r,i,t){if(s){if(""===u?u=r:u+="'"+r,i===t.length-1)return void o.push("'"+u);if(""===t[i+1])return;o.push("'"+u+"'")}else{var n=u="",e='"'===(r=r.trim())[0];r.split("").forEach(function(r,i,t){" "===r||"\n"===r||"\r"===r||"\t"===r?e?n+=" ":""!==n&&(o=o.concat(E(n)),n=""):'"'===r?e?(e=!1,o.push(n+'"'),n=""):(e=!0,n='"'):(n+=r,i===t.length-1&&(o=o.concat(E(n))))})}s=!s});for(var i=[],t=o.length,n=0;n<t;n++){var e,a,l,f,c=o[n];if(n<t-1&&(a=(e=o[n+1]).toUpperCase()),n<t-2&&(f=(l=o[n+2]).toUpperCase()),S(c)){var p=c.toUpperCase();"CREATE"!==p&&"DROP"!==p||-1<["DATABASE","SCHEMA","SEQUENCE","TABLE","USER","VIEW"].indexOf(a)&&(i.push(c+" "+e),n+=1),"DELETE"===p&&"FROM"===a&&(i.push(c+" "+e),n+=1),"GROUP"!==p&&"ORDER"!==p||"BY"===a&&(i.push(c+" "+e),n+=1),"LEFT"!==p&&"RIGHT"!==p||("OUTER"===a&&"JOIN"===f&&(i.push(c+" "+e+" "+l),n+=2),"JOIN"===a&&(i.push(c+" "+e),n+=1)),"INNER"!==p&&"CROSS"!==p||"JOIN"===a&&(i.push(c+" "+e),n+=1),"FULL"===p&&"OUTER"===a&&"JOIN"===f&&(i.push(c+" "+e+" "+l),n+=2),"UNION"===p&&("ALL"===a?(i.push(c+" "+e),n+=1):i.push(c)),"NOT"===p&&("LIKE"!==a&&"BETWEEN"!==a||(i.push(c+" "+e),n+=1))}else O(c)?i.push("IN"):i.push(c)}return i}},{"../util/isKeyword":66,"./isPartialKeyword":73,"./splitOnOperators":90}],93:[function(r,i,t){var l=r("../error");i.exports=function(r,i){for(var t,n=r.length,e=[],o=!1,s=!1,u=0,a=i;a<n;a++)if("("===(t=r[a])&&u++,")"===t&&u--,"("===t&&1===u&&(o=!0),o&&(e.push(t),")"===t&&0===u)){s=!0;break}if(!s&&o)throw l.unclosedParenthesisExpression(r);return e}},{"../error":1}],"sql92-json":[function(r,i,t){i.exports=t.default={parse:r("./parse"),stringify:r("./stringify")}},{"./parse":8,"./stringify":35}]},{},[]);