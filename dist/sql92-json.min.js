// http://g14n.info/SQL92-JSON
require=function r(i,t,n){function e(s,u){if(!t[s]){if(!i[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[s]={exports:{}};i[s][0].call(f.exports,function(r){var t=i[s][1][r];return e(t||r)},f,f.exports,r,i,t,n)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)e(n[s]);return e}({1:[function(r,i,t){t.couldNotParseSelectField,t.functionRequired,t.invalidAlias,t.invalidDataType,t.invalidInterval,t.invalidJSONData,t.invalidSQL,t.invalidTableName,t.unclosedParenthesisExpression},{}],2:[function(r,i,t){var n=r("../error"),e=r("../util/isLogicalOperator"),o=r("../util/isKeywordOrOperator"),s=r("../util/isStringNumber"),u=e("AND");i.exports=function(r,i,t,e,a){var l=[],f={};if(a?f["NOT BETWEEN"]=[]:f.BETWEEN=[],!u(t))throw n.invalidSQL();if(o(i)||o(e))throw n.invalidInterval(i,e);return s(i)&&(i=parseFloat(i)),s(e)&&(e=parseFloat(e)),a?f["NOT BETWEEN"].push(i,e):f.BETWEEN.push(i,e),l.push(r),l.push(f),l}},{"../error":1,"../util/isKeywordOrOperator":67,"../util/isLogicalOperator":68,"../util/isStringNumber":78}],3:[function(r,i,t){var n=r("../util/extractMathExpression"),e=r("../util/isComparisonOperator"),o=r("../util/isMathOperator"),s=r("../util/isStringNumber");i.exports=function(r){for(var i,t,u,a,l,f={},c=0;c<r.length;c++)if(l=r[c],e(l)){t=l,u=c;break}return i=r[u-1],s(i)&&(i=parseFloat(i)),o(r[u+2])?a=(a=n(r.slice(u+1))).map(function(r){return s(r)?parseFloat(r):r}):(a=r[u+1],s(a)&&(a=parseFloat(a))),f[t]=a,[i,f]}},{"../util/extractMathExpression":59,"../util/isComparisonOperator":62,"../util/isMathOperator":69,"../util/isStringNumber":78}],4:[function(r,i,t){function n(r,i,t,f){for(var c,L,R,I,y,C,m,b,F,w=[],D=r.length,U=!1,B=null,M=null,j=null,P=i;P<D;P++){I=r[P],R=r[P+1],c=r[P+2];var W;if(u(I))break;if(N(I)&&(B={AND:[]}),h(I)&&(j={OR:[]}),!v(I)&&"("===R){U=!1,W=1;var K=[];for(b=P+2;b<D;b++)U||("("===(I=r[b])&&W++,")"===I&&W--,0===W?(U=!0,P=b+1):K.push(I));if(!U)throw e.unclosedParenthesisExpression(r);var k=n(K,0,t,f);B?(B.AND=k,w=w.concat(B),B=null):j?(j.OR=k,w=w.concat(j),j=null):w=w.concat(k)}if(T(R)||A(R))try{A(R)&&(F=!0),y=o(I,r[P+2],r[P+3],r[P+4],F),B?(B.AND=y,w=w.concat(B),B=null):j?(j.OR=y,w=w.concat(j),j=null):w=w.concat(y),P+=4}catch(r){throw r}if(d(R)||g(R))try{y=S(I,R,c),B?(B.AND=y,w=w.concat(B),B=null):j?(j.OR=y,w=w.concat(j),j=null):w=w.concat(y),P+=2}catch(r){throw r}if(a(R))try{y=s(r.slice(P)),B?(B.AND=B.AND.concat(y),w=w.concat(B),B=null):j?(j.OR=j.OR.concat(y),w=w.concat(j),j=null):w=w.concat(y),P+=1}catch(r){throw r}if(v(I)){if(C=r[P-1],R=r[P+1],U=!1,"("!==R)throw e.invalidSQL(f);if(!c)throw e.invalidSQL(f);if(x(c)){M={};var Q=[];for(b=P+2;b<D;b++)")"===(I=r[b])?(M.IN=t(Q,f),w.push(C,M),U=!0,P=b):Q.push(I);if(!U)throw e.invalidSQL(f);U=!1}else{if(M||(M={}),m=[],l(C))throw e.invalidSQL(f);if(E(C))throw e.invalidSQL(f);for(b=P+2;b<D;b+=2)if(L=r[b],","!==(R=r[b+1])&&")"!==R||(p(L)&&m.push(O(L)),E(L)&&m.push(parseFloat(L))),")"===R){P=b+1,U=!0;break}if(!U)throw e.invalidSQL(f);if(M[I]=m,B){B.AND.push(C,M),w.push(B),B=null,M=null;continue}if(j){j.OR.push(C,M),w.push(j),j=null,M=null;continue}w.push(C,M),M=null}}}return w}var e=r("../error"),o=r("./between"),s=r("./comparison"),u=r("../util/isAnyJoin"),a=r("../util/isComparisonOperator"),l=r("../util/isKeywordOrOperator"),f=r("../util/isKeyword"),c=r("../util/isLogicalOperator"),p=r("../util/isSingleQuotedString"),E=r("../util/isStringNumber"),S=r("./like"),O=r("../util/removeFirstAndLastChar"),N=c("AND"),h=c("OR"),T=f("BETWEEN"),v=f("IN"),d=f("LIKE"),A=f("NOT BETWEEN"),g=f("NOT LIKE"),x=f("SELECT");i.exports=n},{"../error":1,"../util/isAnyJoin":60,"../util/isComparisonOperator":62,"../util/isKeyword":66,"../util/isKeywordOrOperator":67,"../util/isLogicalOperator":68,"../util/isSingleQuotedString":75,"../util/isStringNumber":78,"../util/removeFirstAndLastChar":88,"./between":2,"./comparison":3,"./like":10}],5:[function(r,i,t){var n=r("../error"),e=r("../util/isKeyword"),o=r("../util/isTableName"),s=r("./select"),u=e("AS"),a=e("CREATE TABLE");i.exports=function(r,i){var t={},e=r[0],l=r[1];if(!a(e))throw n.invalidSQL(i);if(!o(l))throw n.invalidTableName(l);if(t.name=l,u(r[2]))t.AS=s(r.slice(3));else{t.fields=[];for(var f=2;f<r.length;f++){var c=r[f],p=r[f+1];"("!==c&&","!==c&&")"!==c&&(t.fields.push([c,p]),f++)}}return{"CREATE TABLE":t}}},{"../error":1,"../util/isKeyword":66,"../util/isTableName":81,"./select":11}],6:[function(r,i,t){var n=r("../error"),e=r("./condition"),o=r("./select"),s=r("../util/isKeyword"),u=r("../util/isTableName"),a=s("DELETE FROM");i.exports=function(r,i){var t=r[0],s=r[1],l={};if(!a(t))throw n.invalidSQL(i);if(!u(s))throw n.invalidTableName(s);return l["DELETE FROM"]=s,r.length>2&&(l.WHERE=e(r.splice(0),2,o,i)),l}},{"../error":1,"../util/isKeyword":66,"../util/isTableName":81,"./condition":4,"./select":11}],7:[function(r,i,t){var n=r("../error"),e=r("../util/isKeyword"),o=r("../util/isTableName"),s=e("DROP TABLE");i.exports=function(r,i){var t=r[0],e=r[1];if(!s(t))throw n.invalidSQL(i);if(!o(e))throw n.invalidTableName(e);return{"DROP TABLE":e}}},{"../error":1,"../util/isKeyword":66,"../util/isTableName":81}],8:[function(r,i,t){var n=r("../error"),e=r("../util/isKeyword"),o=r("../util/tokenize"),s=r("./createTable"),u=r("./deleteFrom"),a=r("./dropTable"),l=r("./select"),f=e("CREATE TABLE"),c=e("DELETE FROM"),p=e("DROP TABLE"),E=e("INSERT"),S=e("SELECT"),O=e("TRUNCATE"),N=e("UPDATE");i.exports=function(r){var i=o(r),t=i[0];return-1===i.indexOf(";")?function(i,e){if(!(f(t)||c(t)||p(t)||E(t)||S(t)||O(t)||N(t)))throw n.invalidSQL(r);return f(t)?s(e,r):c(t)?u(e,r):p(t)?a(e,r):S(t)?l(e,r):void 0}(0,i):[]}},{"../error":1,"../util/isKeyword":66,"../util/tokenize":92,"./createTable":5,"./deleteFrom":6,"./dropTable":7,"./select":11}],9:[function(r,i,t){function n(r,i,t,u){for(var f=r.length,c={},p=!1,E=i;E<f;E++){var S=r[E],O=r[E+1];if(o(S)){c[S]=n(r,E+1,t,u);break}if(p){if(l(S)){c.ON=e(r,E,t,u),E+=s(c.ON);continue}}else a(S)&&(p=!0,c[O]=S,E++)}return c}var e=r("./condition"),o=r("../util/isAnyJoin"),s=r("../util/countTokens"),u=r("../util/isKeyword"),a=r("../util/isTableName"),l=u("ON");i.exports=n},{"../util/countTokens":55,"../util/isAnyJoin":60,"../util/isKeyword":66,"../util/isTableName":81,"./condition":4}],10:[function(r,i,t){i.exports=function(r,i,t){var n={};return n[i]=t,[r,n]}},{}],11:[function(r,i,t){function n(r,i){var t,K,k,Q,V,G,H,J,Y,X,q,z,_,$,Z,rr,ir,tr,nr,er,or,sr,ur,ar,lr,fr,cr,pr,Er={SELECT:[]},Sr=r[0],Or=r.length,Nr=!1,hr=!1,Tr=!1,vr=!1,dr=!1,Ar=!1,gr=!1,xr=!1;if(!U(Sr))throw e.invalidSQL(i);for(er=1;er<Or;er++){if(nr=r[er],Z=r[er+1],$=r[er+2],L(nr)){Nr=!0,or=er;break}if(f(nr)){gr=!0,_=nr,cr=er;break}if(","!==nr)if(x(nr))Er.DISTINCT=!0;else if(T(Z)){if(t={AS:{}},!p($))throw e.invalidSQL(i);u($)&&($=N($)),E(nr)&&(nr=parseFloat(nr)),t.AS[$]=nr,Er.SELECT.push(t),er+=2}else l(Z)?(Er.SELECT.push([parseFloat(nr),Z,parseFloat($)]),er+=2):E(nr)?Er.SELECT.push(parseFloat(nr)):d(nr)?(K={},h(r,er+1).forEach(function(r){er++,["(",",",")"].indexOf(r)>-1||(E(r)?K.AVG=parseFloat(r):K.AVG=r)}),Z=r[er+1],$=r[er+2],T(Z)&&(u($)&&($=N($)),K.AS=$,er+=2),Er.SELECT.push(K)):A(nr)?(k={},h(r,er+1).forEach(function(r){er++,["(",",",")"].indexOf(r)>-1||(x(r)?k.DISTINCT=!0:E(r)?k.COUNT=parseFloat(r):k.COUNT=r)}),Z=r[er+1],$=r[er+2],T(Z)&&(u($)&&($=N($)),k.AS=$,er+=2),Er.SELECT.push(k)):C(nr)?(V={},h(r,er+1).forEach(function(r){er++,["(",",",")"].indexOf(r)>-1||(E(r)?V.LOWER=parseFloat(r):V.LOWER=r)}),Z=r[er+1],$=r[er+2],T(Z)&&(u($)&&($=N($)),V.AS=$,er+=2),Er.SELECT.push(V)):m(nr)?(G={},h(r,er+1).forEach(function(r){er++,["(",",",")"].indexOf(r)>-1||(E(r)?G.MAX=parseFloat(r):G.MAX=r)}),Z=r[er+1],$=r[er+2],T(Z)&&(u($)&&($=N($)),G.AS=$,er+=2),Er.SELECT.push(G)):b(nr)?(H={},h(r,er+1).forEach(function(r){er++,["(",",",")"].indexOf(r)>-1||(E(r)?H.MIN=parseFloat(r):H.MIN=r)}),Z=r[er+1],$=r[er+2],T(Z)&&(u($)&&($=N($)),H.AS=$,er+=2),Er.SELECT.push(H)):F(nr)?(J={NVL:[]},h(r,er+1).forEach(function(r){er++,["(",",",")"].indexOf(r)>-1||(E(r)?J.NVL.push(parseFloat(r)):J.NVL.push(r))}),Z=r[er+1],$=r[er+2],T(Z)&&(u($)&&($=N($)),J.AS=$,er+=2),Er.SELECT.push(J)):B(nr)?(X={},h(r,er+1).forEach(function(r){er++,["(",",",")"].indexOf(r)>-1||(E(r)?X.SUM=parseFloat(r):X.SUM=r)}),Z=r[er+1],$=r[er+2],T(Z)&&(u($)&&($=N($)),X.AS=$,er+=2),Er.SELECT.push(X)):M(nr)?(q={},h(r,er+1).forEach(function(r){er++,["(",",",")"].indexOf(r)>-1||(E(r)?q.UPPER=parseFloat(r):q.UPPER=r)}),Z=r[er+1],$=r[er+2],T(Z)&&(u($)&&($=N($)),q.AS=$,er+=2),Er.SELECT.push(q)):p(nr)?S(Z)?(Er.SELECT.push([nr,Z,$]),er+=2):Er.SELECT.push(nr):(c(nr)&&Er.SELECT.push(nr),"("===nr&&U(Z)&&(Y={},tr=h(r,er),Z=r[er+=tr.length],$=r[er+1],tr.shift(),tr.pop(),T(Z)?(u($)&&($=N($)),Y.AS={},Y.AS[$]=n(tr,i),Er.SELECT.push(Y),er+=1):Er.SELECT.push(n(tr,i))))}if(Nr){for(Er.FROM=[],er=or+1;er<Or;er++){if(nr=r[er],Z=er<Or-1?r[er+1]:null,j(nr)&&(xr=!0,pr=er),R(nr)&&(Tr=!0,sr=er),I(nr)&&(vr=!0,ur=er),D(nr)&&(Ar=!0,fr=er),f(nr)){gr=!0,_=nr,cr=er;break}if(!(xr||Tr||vr||Ar)&&","!==nr){if("("===nr){if(Y={},(tr=h(r,er)).shift(),tr.pop(),er=er+tr.length+1,Z=r[er+1],$=r[er+2],rr=!a()(Z),ir=p(Z)&&rr,!U(tr[0]))throw e.invalidSQL(i);if(!ir){Er.FROM.push(n(tr,i));continue}if(!s($)){Y[Z]=n(tr,i),Er.FROM.push(Y),er+=2;continue}}if(O(nr)){if(z=nr,Z=r[er+1],$=r[er+2],rr=!a()(Z),ir=p(Z)&&rr){if(z={},z[Z]=nr,s($)){z[Q=$]=W(r,er+3,n,i),Er.FROM.push(z),er+=o(z[Q])+2;continue}Er.FROM.push(z),er+=1;continue}Er.FROM.push(z)}else;}}if(xr){if(pr===Or-3)throw e.invalidSQL(i);Er.WHERE=P(r,pr,n,i)}if(Tr)for(Er["GROUP BY"]=[],er=sr+1;er<Or;er++)if(","!==(nr=r[er])){if(a()(nr))break;E(nr)&&(nr=parseFloat(nr)),Er["GROUP BY"].push(nr)}if(vr){if(ur===Or-3)throw e.invalidSQL(i);Er.HAVING=P(r,ur,n,i)}if(Ar)for(Er["ORDER BY"]=[],er=fr+1;er<Or;er++)if(nr=r[er],Z=r[er+1],","!==nr){if(a()(nr))break;E(nr)&&(nr=parseFloat(nr)),g(Z)?(Er["ORDER BY"].push({DESC:nr}),er++):v(Z)?(Er["ORDER BY"].push({ASC:nr}),er++):Er["ORDER BY"].push(nr)}for(er=or;er<Or;er++)hr||(nr=r[er],y(nr)&&(hr=!0,ar=er));if(hr){if(ar===Or-1)throw e.invalidSQL(i);var Lr=r[ar+1];if(!E(Lr))throw e.invalidSQL(i);if(!((Lr=parseFloat(Lr))>=0))throw e.invalidSQL(i);Er.LIMIT=Lr}for(er=or;er<Or;er++)dr||(nr=r[er],w(nr)&&(dr=!0,lr=er));if(dr){if(lr===Or-1)throw e.invalidSQL(i);var Rr=r[lr+1];if(!E(Rr))throw e.invalidSQL(i);if(!((Rr=parseFloat(Rr))>=0))throw e.invalidSQL(i);Er.OFFSET=Rr}}return gr&&(Er[_]=n(r.splice(cr+1),i)),Er}var e=r("../error"),o=r("../util/countTokens"),s=r("../util/isAnyJoin"),u=r("../util/isDoubleQuotedString"),a=r("../util/isKeyword"),l=r("../util/isMathOperator"),f=r("../util/isSetOperator"),c=r("../util/isStar"),p=r("../util/isString"),E=r("../util/isStringNumber"),S=r("../util/isStringOperator"),O=r("../util/isTableName"),N=r("../util/removeFirstAndLastChar"),h=r("../util/tokensEnclosedByParenthesis"),T=a("AS"),v=a("ASC"),d=a("AVG"),A=a("COUNT"),g=a("DESC"),x=a("DISTINCT"),L=a("FROM"),R=a("GROUP BY"),I=a("HAVING"),y=a("LIMIT"),C=a("LOWER"),m=a("MAX"),b=a("MIN"),F=a("NVL"),w=a("OFFSET"),D=a("ORDER BY"),U=a("SELECT"),B=a("SUM"),M=a("UPPER"),j=a("WHERE"),P=r("./condition"),W=r("./join");i.exports=n},{"../error":1,"../util/countTokens":55,"../util/isAnyJoin":60,"../util/isDoubleQuotedString":64,"../util/isKeyword":66,"../util/isMathOperator":69,"../util/isSetOperator":74,"../util/isStar":76,"../util/isString":77,"../util/isStringNumber":78,"../util/isStringOperator":79,"../util/isTableName":81,"../util/removeFirstAndLastChar":88,"../util/tokensEnclosedByParenthesis":93,"./condition":4,"./join":9}],12:[function(r,i,t){var n=r("../error"),e=r("../util/doubleQuoteIfStringContainsSpace"),o=r("../util/encloseWithParenthesis"),s=r("../util/isNumber"),u=r("../util/isObject"),a=r("./isSelect"),l=r("../util/isString"),f=r("./stringField");i.exports=function(r,i){var t,c,p="",E=r.AS;if(l(E)&&(p+=" AS "+e(E)),u(E)){if((t=Object.keys(E)).length>1)throw n.invalidAlias(r);if(t=t[0],c=E[t],s(c)&&(p=c),l(c)&&(p=f(c)),a(c)){if("function"!=typeof i)throw n.functionRequired("select");p=o(i(c))}p+=" AS "+e(t)}return p}},{"../error":1,"../util/doubleQuoteIfStringContainsSpace":57,"../util/encloseWithParenthesis":58,"../util/isNumber":70,"../util/isObject":72,"../util/isString":77,"./isSelect":43,"./stringField":51}],13:[function(r,i,t){var n=r("../error"),e=r("./aliasExpression"),o=r("../util/isString");i.exports=function(r){var i=r.AVG;if(o(i))return"AVG("+i+")"+e(r);throw n.couldNotParseSelectField(i)}},{"../error":1,"../util/isString":77,"./aliasExpression":12}],14:[function(r,i,t){var n=r("./filter");i.exports=function(r){return function(i){for(var t=i.shift(),e=i.shift(),o=n(r),s=t+" "+o(e),u=0;u<i.length;u++)s+=" "+o(i[u]);return s}}},{"./filter":19}],15:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isStar"),o=r("../util/isString");i.exports=function(r){var i="",t=r.COUNT;return e(t)&&(i="COUNT(*)"),1===t&&(i="COUNT(1)"),o(t)&&(i=r.DISTINCT?"COUNT(DISTINCT "+t+")":"COUNT("+t+")"),i+n(r)}},{"../util/isStar":76,"../util/isString":77,"./aliasExpression":12}],16:[function(r,i,t){i.exports=function(r,i){var t=r["CREATE TABLE"],n="CREATE TABLE "+t.name,e=t.fields;return e&&(n+=" (",e.forEach(function(r,i,t){n+=r[0]+" "+r[1],i===t.length-1?n+=")":n+=", "})),t.AS&&(n+=" AS "+i(t.AS)),n}},{}],17:[function(r,i,t){var n=r("./conditions"),e=r("./hasWhere"),o=r("./select");i.exports=function(r){var i="DELETE FROM "+r["DELETE FROM"];return r.WHERE&&e(r)&&(i+=" WHERE "+n(o)(r.WHERE)),i}},{"./conditions":14,"./hasWhere":34,"./select":49}],18:[function(r,i,t){i.exports=function(r){return"DROP TABLE "+r["DROP TABLE"]}},{}],19:[function(r,i,t){var n=r("../error"),e=r("../util/encloseWithParenthesis"),o=r("./isBetween"),s=r("./isLike"),u=r("./isNotLike"),a=r("./isNotBetween"),l=r("./isSelect"),f=r("../util/quoteIfString"),c=Array.isArray,p=r("../util/comparisonOperators.json");i.exports=function(r){return function i(t){var E;for(E=0;E<p.length;E++){var S=p[E],O=t[S];if(c(O))return S+" "+O.join(" ");if(void 0!==O)return S+" "+O}var N=t.IN;if(N){if(c(N))return"IN "+e(t.IN.map(f).join(", "));if(l(N)){if("function"==typeof r)return"IN "+e(r(N));throw n.functionRequired("select")}}var h=t.AND;if(c(h)){var T=h[0]+" "+i(h[1]);for(E=2;E<h.length;E++)T+=" "+i(h[E]);return 2===h.length?"AND "+T:"AND "+e(T)}var v=t.BETWEEN;if(o(t))return"BETWEEN "+v.join(" AND ");var d=t["NOT BETWEEN"];if(a(t))return"NOT BETWEEN "+d.join(" AND ");var A=t.LIKE;if(s(t))return"LIKE "+A;var g=t["NOT LIKE"];if(u(t))return"NOT LIKE "+g;var x=t.OR;if(c(x)){var L=x[0]+" "+i(x[1]);for(E=2;E<x.length;E++)L+=" "+i(x[E]);return 2===x.length?"OR "+L:"OR "+e(L)}}}},{"../error":1,"../util/comparisonOperators.json":54,"../util/encloseWithParenthesis":58,"../util/quoteIfString":87,"./isBetween":36,"./isLike":40,"./isNotBetween":41,"./isNotLike":42,"./isSelect":43}],20:[function(r,i,t){var n=r("../util/isAnyJoin");i.exports=function(r){for(var i=Object.keys(r),t=0;t<i.length;t++){var e=i[t];if(n(e))return e}}},{"../util/isAnyJoin":60}],21:[function(r,i,t){var n=r("../util/isKeyword"),e=r("./isSelect");i.exports=function(r){for(var i,t=Object.keys(r),o=0;o<t.length;o++){var s=t[o];if(!n()(s))return i=r[s],e(i)?s:void 0}}},{"../util/isKeyword":66,"./isSelect":43}],22:[function(r,i,t){var n=r("./getResultSetAlias"),e=r("../util/isKeyword")("AS");i.exports=function(r){var i,t,o=Object.keys(r),s=n(r);if(s)i={},t=r[s],i[s]=t;else for(var u=0;u<o.length;u++){var a=o[u];if(e(a)){if(s=n(r[a])){i={AS:r[a]};break}return}}return i}},{"../util/isKeyword":66,"./getResultSetAlias":21}],23:[function(r,i,t){var n=r("../util/isKeyword"),e=r("../util/isTableName");i.exports=function(r){for(var i,t=Object.keys(r),o=0;o<t.length;o++){var s=t[o];if(!n()(s))return i=r[s],e(i)?s:void 0}}},{"../util/isKeyword":66,"../util/isTableName":81}],24:[function(r,i,t){var n=r("./getTableNameAlias"),e=r("../util/isKeyword")("AS");i.exports=function(r){var i,t,o=Object.keys(r),s=n(r);if(s)i={},t=r[s],i[s]=t;else for(var u=0;u<o.length;u++){var a=o[u];if(e(a)){if(s=n(r[a])){i={AS:r[a]};break}return}}return i}},{"../util/isKeyword":66,"./getTableNameAlias":23}],25:[function(r,i,t){var n=r("../util/isString");i.exports=function(r){if(n(r))return r}},{"../util/isString":77}],26:[function(r,i,t){var n=r("../error");i.exports=function(r){var i=r.FROM;if(i){if(Array.isArray(i)&&i.length>0)return!0;throw n.invalidJSONData({FROM:i})}return!1}},{"../error":1}],27:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r["GROUP BY"];return Array.isArray(i)&&i.length>0&&i.filter(n).length===i.length}},{"../util/isNumberOrString":71}],28:[function(r,i,t){i.exports=function(r){return Array.isArray(r.HAVING)&&r.HAVING.length>1}},{}],29:[function(r,i,t){i.exports=function(r){var i=r.LIMIT;return"number"==typeof i&&i>0}},{}],30:[function(r,i,t){i.exports=function(r){var i=r.OFFSET;return"number"==typeof i&&i>0}},{}],31:[function(r,i,t){var n=r("../util/isNumberOrString"),e=r("../util/isObject");i.exports=function(r){var i=r["ORDER BY"];return!!i&&!!(Array.isArray(i)&&i.length>0)&&i.filter(function(r){if(n(r))return!0;if(e(r)){if(n(r.DESC))return!0;if(n(r.ASC))return!0}return!1}).length===i.length}},{"../util/isNumberOrString":71,"../util/isObject":72}],32:[function(r,i,t){var n=r("./isSelect");i.exports=function(r){var i=r.UNION;return i&&n(i)}},{"./isSelect":43}],33:[function(r,i,t){var n=r("./isSelect");i.exports=function(r){var i=r["UNION ALL"];return i&&n(i)}},{"./isSelect":43}],34:[function(r,i,t){i.exports=function(r){return Array.isArray(r.WHERE)&&r.WHERE.length>1}},{}],35:[function(r,i,t){function n(r){var i="";return o(r)?l(r):s(r)?f(r):(e(r,n)&&(i=a(r,n)),u(r)&&(""!==i&&(i+=" "),i+=c(r,i)),i)}var e=r("./isCreateTable"),o=r("./isDeleteFrom"),s=r("./isDropTable"),u=r("./isSelect"),a=r("./createTable"),l=r("./deleteFrom"),f=r("./dropTable"),c=r("./select");i.exports=n},{"./createTable":16,"./deleteFrom":17,"./dropTable":18,"./isCreateTable":37,"./isDeleteFrom":38,"./isDropTable":39,"./isSelect":43,"./select":49}],36:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r.BETWEEN;return Array.isArray(i)&&2===i.length&&n(i[0])&&n(i[1])}},{"../util/isNumberOrString":71}],37:[function(r,i,t){var n=r("../util/isDataType"),e=r("../util/isTableName"),o=r("./isSelect"),s=r("../util/isValidName");i.exports=function(r){var i=r["CREATE TABLE"];if(!i)return!1;if(!e(i.name))return!1;if(Array.isArray(i.fields)){var t=i.fields.length;if(0===t)return!1;for(var u=0;u<t;u++){var a=i.fields[u];if(!s(a[0]))return!1;if(!n(a[1]))return!1}return!0}return!!o(i.AS)}},{"../util/isDataType":63,"../util/isTableName":81,"../util/isValidName":82,"./isSelect":43}],38:[function(r,i,t){var n=r("../util/isTableName");i.exports=function(r){var i=r["DELETE FROM"];return!!i&&n(i)}},{"../util/isTableName":81}],39:[function(r,i,t){var n=r("../util/isTableName");i.exports=function(r){var i=r["DROP TABLE"];return!!i&&n(i)}},{"../util/isTableName":81}],40:[function(r,i,t){var n=r("../util/isSingleQuotedString");i.exports=function(r){var i=r.LIKE;return n(i)}},{"../util/isSingleQuotedString":75}],41:[function(r,i,t){var n=r("../util/isNumberOrString");i.exports=function(r){var i=r["NOT BETWEEN"];return Array.isArray(i)&&2===i.length&&n(i[0])&&n(i[1])}},{"../util/isNumberOrString":71}],42:[function(r,i,t){var n=r("../util/isSingleQuotedString");i.exports=function(r){var i=r["NOT LIKE"];return n(i)}},{"../util/isSingleQuotedString":75}],43:[function(r,i,t){i.exports=function(r){var i=r.SELECT;return Array.isArray(i)&&i.length>0}},{}],44:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.MAX;return e(t)&&(i="MAX("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":12}],45:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.MIN;return e(t)&&(i="MIN("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":12}],46:[function(r,i,t){var n=r("./aliasExpression");i.exports=function(r){var i=r.NVL;return"NVL("+i[0]+", "+i[1]+")"+n(r)}},{"./aliasExpression":12}],47:[function(r,i,t){var n=r("../util/isNumberOrString"),e=r("../util/isObject");i.exports=function(r){if(n(r))return r;if(e(r)){if(n(r.DESC))return r.DESC+" DESC";if(n(r.ASC))return r.ASC+" ASC"}}},{"../util/isNumberOrString":71,"../util/isObject":72}],48:[function(r,i,t){var n=r("./conditions"),e=r("../util/encloseWithParenthesis"),o=r("./getTableNameAlias"),s=r("./getTableNameWithAlias"),u=r("./getResultSetAlias"),a=r("./getResultSetWithAlias"),l=r("./getJoinKeyword"),f=r("../util/isTableName"),c=r("./isSelect");i.exports=function(r){return function i(t,p){if(f(t))return t;if(c(t))return e(r(t));var E="",S=a(t);if(S){var O=u(S),N=S[O];return E=e(r(N))+" "+O}var h=s(t);if(h){var T=o(h),v=h[T],d=l(t),A=t[d];if(d){E=p?"":v+" "+T+" ";var g=s(A);if(g){var x=o(g),L=g[x],R=A.ON.slice(0);E+=[d,L,x].join(" "),E+=" ON "+n(r)(R)}var I=l(A);I&&(p=!0,{}[I]=A[I],E+=" "+i(A,p))}else E=v+" "+T;return E}}}},{"../util/encloseWithParenthesis":58,"../util/isTableName":81,"./conditions":14,"./getJoinKeyword":20,"./getResultSetAlias":21,"./getResultSetWithAlias":22,"./getTableNameAlias":23,"./getTableNameWithAlias":24,"./isSelect":43}],49:[function(r,i,t){function n(r){var i="SELECT ";return r.DISTINCT&&(i+="DISTINCT "),i+=r.SELECT.map(function(r){return h(r,n)}).join(", "),s(r)&&(i+=" FROM "+r.FROM.map(N(n)).join(" ")),S(r)&&(i+=" WHERE "+e(n)(r.WHERE)),l(r)&&(i+=" GROUP BY "+r["GROUP BY"].map(o).join(", "),f(r)&&(i+=" HAVING "+e(n)(r.HAVING))),c(r)&&(i+=" ORDER BY "+r["ORDER BY"].map(O).join(", ")),u(r)&&(i+=" LIMIT "+r.LIMIT),a(r)&&(i+=" OFFSET "+r.OFFSET),p(r)&&(i+=" UNION "+n(r.UNION)),E(r)&&(i+=" UNION ALL "+n(r["UNION ALL"])),i}var e=r("./conditions"),o=r("./groupByCondition"),s=r("./hasFrom"),u=r("./hasLimit"),a=r("./hasOffset"),l=r("./hasGroupBy"),f=r("./hasHaving"),c=r("./hasOrderBy"),p=r("./hasUnion"),E=r("./hasUnionAll"),S=r("./hasWhere"),O=r("./orderByCondition"),N=r("./resultSet"),h=r("./selectField");i.exports=n},{"./conditions":14,"./groupByCondition":25,"./hasFrom":26,"./hasGroupBy":27,"./hasHaving":28,"./hasLimit":29,"./hasOffset":30,"./hasOrderBy":31,"./hasUnion":32,"./hasUnionAll":33,"./hasWhere":34,"./orderByCondition":47,"./resultSet":48,"./selectField":50}],50:[function(r,i,t){var n=r("../error"),e=r("./aliasExpression"),o=r("./avgExpression"),s=r("./countExpression"),u=r("../util/encloseWithParenthesis"),a=r("../util/isNumber"),l=r("../util/isObject"),f=r("./isSelect"),c=r("../util/isStar"),p=r("../util/isString"),E=r("./maxExpression"),S=r("./minExpression"),O=r("./nvlExpression"),N=r("./stringField"),h=r("./sumExpression"),T=r("./unaryFunction"),v=T("LOWER"),d=T("UPPER");i.exports=function(r,i){if(f(r)){if("function"==typeof i)return u(i(r));throw n.functionRequired("select")}if(Array.isArray(r))return r.join(" ");if(c(r))return r;if(a(r))return r;if(p(r))return N(r);if(l(r)){if(r.AVG)return o(r);if(r.COUNT)return s(r);if(r.LOWER)return v(r);if(r.MAX)return E(r);if(r.MIN)return S(r);if(r.NVL)return O(r);if(r.SUM)return h(r);if(r.UPPER)return d(r);if(r.AS)return e(r,i)}throw n.couldNotParseSelectField(r)}},{"../error":1,"../util/encloseWithParenthesis":58,"../util/isNumber":70,"../util/isObject":72,"../util/isStar":76,"../util/isString":77,"./aliasExpression":12,"./avgExpression":13,"./countExpression":15,"./isSelect":43,"./maxExpression":44,"./minExpression":45,"./nvlExpression":46,"./stringField":51,"./sumExpression":52,"./unaryFunction":53}],51:[function(r,i,t){var n=r("../util/isDataType"),e=r("../util/isFieldName"),o=r("../util/isSingleQuotedString"),s=r("../util/isStringNumber");i.exports=function(r){var i=r.split("::")[0],t=r.split("::")[1],u=s(i)||o(i)||e(i);if(t){if(u&&n(t))return r}else if(u)return r}},{"../util/isDataType":63,"../util/isFieldName":65,"../util/isSingleQuotedString":75,"../util/isStringNumber":78}],52:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString");i.exports=function(r){var i="",t=r.SUM;return e(t)&&(i="SUM("+t+")"),i+n(r)}},{"../util/isString":77,"./aliasExpression":12}],53:[function(r,i,t){var n=r("./aliasExpression"),e=r("../util/isString"),o=r("./stringField");i.exports=function(r){return function(i){var t="",s=i[r];return e(s)&&(t=r+"("+o(s)+")"),t+n(i)}}},{"../util/isString":77,"./aliasExpression":12,"./stringField":51}],54:[function(r,i,t){i.exports=["=",">","<","<>","<=",">=","!="]},{}],55:[function(r,i,t){function n(r){var i,t=0;if("number"==typeof r)return 1;if("string"==typeof r)return 1;if("object"==typeof r)if(Array.isArray(r))for(var e=0;e<r.length;e++)t+=n(r[e]);else{i=Object.keys(r);for(var o=0;o<i.length;o++)t+=n(r[i[o]])+1}return t}i.exports=n},{}],56:[function(r,i,t){i.exports=["BOOLEAN","CHARACTER","CHARACTER VARYING","DATE","DECIMAL","FLOAT","INTEGER","INTERVAL","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARCHAR"]},{}],57:[function(r,i,t){var n=r("./isString"),e=r("./isStringWithSpace");i.exports=function(r){return e(r)?'"'+r+'"':n(r)?r:void 0}},{"./isString":77,"./isStringWithSpace":80}],58:[function(r,i,t){i.exports=function(r){return"("+r+")"}},{}],59:[function(r,i,t){var n=r("./isMathOperator");i.exports=function(r){for(var i,t,e,o=[],s=0;s<r.length-1;s++)if(t=r[s],e=r[s+1],n(e))o.push(t,e),s+=1,i=!0;else if(i)return o.push(t),i=!1,o;return o}},{"./isMathOperator":69}],60:[function(r,i,t){var n=r("./isKeyword");i.exports=function(r){return n("JOIN")(r)||n("LEFT JOIN")(r)||n("RIGHT JOIN")(r)}},{"./isKeyword":66}],61:[function(r,i,t){var n=r("../error"),e=r("./isDataType");i.exports=function(r){var i=r.split("::")[1];if(i){if(e(i))return!0;throw n.invalidDataType(i)}return!1}},{"../error":1,"./isDataType":63}],62:[function(r,i,t){var n=r("./comparisonOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"./comparisonOperators.json":54}],63:[function(r,i,t){var n=r("./dataTypes.json");i.exports=function(r){var i=r.toUpperCase();return n.indexOf(i)>-1}},{"./dataTypes.json":56}],64:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/^"[^"]*"$/.test(r)}},{"./isString":77}],65:[function(r,i,t){var n=r("./isValidName"),e=r("./isString");i.exports=function(r){if(!e(r))return!1;var i=r.split("."),t=i[0],o=i[1],s=i[2];return!(0===i.length||i.length>3)&&(1===i.length?n(t):2===i.length?n(t)&&n(o):3===i.length?n(t)&&n(o)&&n(s):void 0)}},{"./isString":77,"./isValidName":82}],66:[function(r,i,t){var n=r("./keywords.json");i.exports=function(r){return r?function(i){if(!i)return!1;var t=i.toUpperCase();return-1!==n.indexOf(t)&&r===t}:function(r){if(!r)return!1;var i=r.toUpperCase();return n.indexOf(i)>-1}}},{"./keywords.json":83}],67:[function(r,i,t){var n=r("./comparisonOperators.json"),e=r("./logicalOperators.json"),o=r("./mathOperators.json"),s=r("./setOperators.json"),u=r("./stringOperators.json"),a=r("./keywords.json");i.exports=function(r){if(n.indexOf(r)>-1)return!0;if(e.indexOf(r)>-1)return!0;if(o.indexOf(r)>-1)return!0;if(s.indexOf(r)>-1)return!0;if(u.indexOf(r)>-1)return!0;var i=r.toUpperCase();return a.indexOf(i)>-1}},{"./comparisonOperators.json":54,"./keywords.json":83,"./logicalOperators.json":84,"./mathOperators.json":85,"./setOperators.json":89,"./stringOperators.json":91}],68:[function(r,i,t){var n=r("./logicalOperators.json");i.exports=function(r){return function(i){var t=i.toUpperCase();return-1!==n.indexOf(t)&&r===t}}},{"./logicalOperators.json":84}],69:[function(r,i,t){var n=r("./mathOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"./mathOperators.json":85}],70:[function(r,i,t){i.exports=function(r){return"number"==typeof r}},{}],71:[function(r,i,t){var n=r("./isNumber"),e=r("./isString");i.exports=function(r){return n(r)||e(r)}},{"./isNumber":70,"./isString":77}],72:[function(r,i,t){i.exports=function(r){return"object"==typeof r}},{}],73:[function(r,i,t){var n=r("./partialKeywords.json");i.exports=function(r){var i=r.toUpperCase();return n.indexOf(i)>-1}},{"./partialKeywords.json":86}],74:[function(r,i,t){var n=r("./isKeyword"),e=n("EXCEPT"),o=n("INTERSECT"),s=n("UNION"),u=n("UNION ALL");i.exports=function(r){return e(r)||o(r)||s(r)||u(r)}},{"./isKeyword":66}],75:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/^'[^']*'$/.test(r)}},{"./isString":77}],76:[function(r,i,t){i.exports=function(r){return"*"===r}},{}],77:[function(r,i,t){var n=r("./isStar");i.exports=function(r){return"string"==typeof r&&-1===["(",",",")"].indexOf(r)&&!n(r)}},{"./isStar":76}],78:[function(r,i,t){var n=r("./isCastedValue");i.exports=function(r){return!n(r)&&!isNaN(parseFloat(r))}},{"./isCastedValue":61}],79:[function(r,i,t){var n=r("./stringOperators.json");i.exports=function(r){return n.indexOf(r)>-1}},{"./stringOperators.json":91}],80:[function(r,i,t){var n=r("./isString");i.exports=function(r){return n(r)&&/\s/.test(r)}},{"./isString":77}],81:[function(r,i,t){var n=r("./isKeyword"),e=r("./isString"),o=r("./isValidName");i.exports=function(r){if(!e(r))return!1;if(n()(r))return!1;var i=r.split(".");return!(0===i.length||i.length>2)&&(1===i.length?o(i[0]):2===i.length?o(i[0])&&o(i[1]):void 0)}},{"./isKeyword":66,"./isString":77,"./isValidName":82}],82:[function(r,i,t){var n=r("./isString");i.exports=function(r){return!!n(r)&&/^[a-zA-Z_][a-zA-Z_0-9]*$/.test(r)}},{"./isString":77}],83:[function(r,i,t){i.exports=["AS","ASC","AVG","BETWEEN","CASE","COALESCE","COUNT","CREATE DATABASE","CREATE SCHEMA","CREATE SEQUENCE","CREATE TABLE","CREATE USER","CREATE VIEW","DATABASE","DELETE FROM","DESC","DISTINCT","DROP","DROP TABLE","END","EXCEPT","EXISTS","EXPLAIN","FALSE","FROM","FULL OUTER JOIN","GRANT","IN","INSERT","JOIN","GROUP BY","HAVING","IN","INNER JOIN","INTERSECT","IS","IS FALSE","IS NOT FALSE","IS NOT NULL","IS NOT TRUE","IS NULL","IS TRUE","LIMIT","LIKE","LEFT JOIN","LEFT OUTER JOIN","LOWER","MAX","MIN","ORDER BY","OUTER JOIN","NOT BETWEEN","NOT EXISTS","NOT LIKE","NULL","NVL","OFFSET","ON","RIGHT JOIN","SELECT","SET","SUM","TABLE","TRUE","UNION","UNION ALL","UPDATE","UPPER","USER","VALUES","VIEW","WHERE","WITH"]},{}],84:[function(r,i,t){i.exports=["AND","OR"]},{}],85:[function(r,i,t){i.exports=["+","-","*","/","%"]},{}],86:[function(r,i,t){i.exports=["CREATE","CROSS","DELETE","DROP","FULL","GROUP","INNER","IS","LEFT","NOT","ORDER","RIGHT","UNION"]},{}],87:[function(r,i,t){i.exports=function(r){return"string"==typeof r?"'"+r+"'":r}},{}],88:[function(r,i,t){i.exports=function(r){return r.substring(1,r.length-1)}},{}],89:[function(r,i,t){i.exports=["EXCEPT","INTERSECT","UNION","UNION ALL"]},{}],90:[function(r,i,t){var n=[">","<","!"],e=r("./comparisonOperators.json").concat(["(",")",",",";"]);i.exports=function(r){var i=[];return r.trim().split(" ").filter(function(r){return""!==r}).forEach(function(r){for(var t="",o=r.length,s=0;s<o;s++){var u=r[s],a=s===o-1,l=e.indexOf(u)>-1;if(n.indexOf(u)>-1&&!a){var f=u+r[s+1];if(e.indexOf(f)>-1){""!==t&&i.push(t),i.push(f),t="",s+=1;continue}}l?(""!==t&&i.push(t),i.push(u),t=""):(t+=u,a&&i.push(t))}}),i}},{"./comparisonOperators.json":54}],91:[function(r,i,t){i.exports=["||"]},{}],92:[function(r,i,t){var n=r("./splitOnOperators"),e=r("./isPartialKeyword");i.exports=function(r){var i=[],t=!1,o="";r.trim().split("'").forEach(function(r,e,s){if(t){if(""===o?o=r:o+="'"+r,e===s.length-1)return void i.push("'"+o);if(""===s[e+1])return;i.push("'"+o+"'")}else{o="";var u="",a='"'===(r=r.trim())[0];r.split("").forEach(function(r,t,e){" "===r||"\n"===r||"\r"===r||"\t"===r?a?u+=" ":""!==u&&(i=i.concat(n(u)),u=""):'"'===r?a?(a=!1,i.push(u+'"'),u=""):(a=!0,u='"'):(u+=r,t===e.length-1&&(i=i.concat(n(u))))})}t=!t});for(var s=[],u=i.length,a=0;a<u;a++){var l,f,c=i[a];a<u-1&&(f=(l=i[a+1]).toUpperCase());var p,E;if(a<u-2&&(E=(p=i[a+2]).toUpperCase()),e(c)){var S=c.toUpperCase();"CREATE"!==S&&"DROP"!==S||["DATABASE","SCHEMA","SEQUENCE","TABLE","USER","VIEW"].indexOf(f)>-1&&(s.push(c+" "+l),a+=1),"DELETE"===S&&"FROM"===f&&(s.push(c+" "+l),a+=1),"GROUP"!==S&&"ORDER"!==S||"BY"===f&&(s.push(c+" "+l),a+=1),"LEFT"!==S&&"RIGHT"!==S||("OUTER"===f&&"JOIN"===E&&(s.push(c+" "+l+" "+p),a+=2),"JOIN"===f&&(s.push(c+" "+l),a+=1)),"INNER"!==S&&"CROSS"!==S||"JOIN"===f&&(s.push(c+" "+l),a+=1),"FULL"===S&&"OUTER"===f&&"JOIN"===E&&(s.push(c+" "+l+" "+p),a+=2),"UNION"===S&&("ALL"===f?(s.push(c+" "+l),a+=1):s.push(c)),"NOT"===S&&("LIKE"!==f&&"BETWEEN"!==f||(s.push(c+" "+l),a+=1))}else s.push(c)}return s}},{"./isPartialKeyword":73,"./splitOnOperators":90}],93:[function(r,i,t){var n=r("../error");i.exports=function(r,i){for(var t,e=r.length,o=[],s=!1,u=!1,a=0,l=i;l<e;l++)if("("===(t=r[l])&&a++,")"===t&&a--,"("===t&&1===a&&(s=!0),s&&(o.push(t),")"===t&&0===a)){u=!0;break}if(!u&&s)throw n.unclosedParenthesisExpression(r);return o}},{"../error":1}],"sql92-json":[function(r,i,t){i.exports=t.default={parse:r("./parse"),stringify:r("./stringify")}},{"./parse":8,"./stringify":35}]},{},[]);